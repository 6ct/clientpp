{"version":3,"file":"Webpack.js","mappings":";;;;;;;;;AAAA,eAAe,EAAE,+BAA+B,UAAU,EAAE;;;;;;;;;;;ACA/C;AACb;AACA,cAAc,mBAAO,CAAC,mCAAW;AACjC,SAAS,mBAAO,CAAC,yCAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,YAAY;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,2BAA2B,qBAAqB,EAAE,EAAE,OAAO,kDAAkD,UAAU,GAAG;AAC1H,GAAG;AACH,6CAA6C,UAAU;AACvD;AACA;AACA;AACA;AACA,SAAS,cAAc;AACvB,MAAM,mBAAmB;AACzB;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,GAAG;AACH,+CAA+C,UAAU;AACzD;AACA;AACA;AACA,QAAQ,MAAM;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,qBAAqB,GAAG,UAAU;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC9Ea;AACb;AACA,WAAW;AACX,YAAY;AACZ,YAAY;AACZ,aAAa;AACb,aAAa;AACb,aAAa;;;;;;;;;;;ACPA;AACb;AACA,cAAc,mBAAO,CAAC,2DAAuB;AAC7C,SAAS,mBAAO,CAAC,yCAAc;AAC/B,GAAG,UAAU,EAAE,mBAAO,CAAC,2BAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;ACjCa;AACb;AACA,YAAY,mBAAO,CAAC,yCAAc;AAClC,GAAG,WAAW,EAAE,mBAAO,CAAC,2BAAO;AAC/B,WAAW,mBAAO,CAAC,mCAAW;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,sDAAsD,QAAQ;AAC9D,CAAC;AACD;AACA;AACA,0DAA0D,0BAA0B;AACpF,CAAC;AACD;AACA;AACA,wDAAwD,0BAA0B;AAClF,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,EAAE;AACF,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;;;;;AC5Ea;AACb;AACA;AACA;AACA,aAAa,mBAAO,CAAC,2CAAe;AACpC,YAAY,mBAAO,CAAC,2DAA4B;AAChD,GAAG,cAAc;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF,MAAM;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,MAAM;AAC7C;AACA;AACA,WAAW;AACX,UAAU;;;;;;;;;;;ACjDG;AACb;AACA;AACA;AACA,WAAW,mBAAO,CAAC,6BAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC/Ca;AACb;AACA,MAAM,UAAU,EAAE,mBAAO,CAAC,2BAAO;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,QAAQ,kBAAkB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACrCa;AACb;AACA,MAAM,UAAU,EAAE,mBAAO,CAAC,mCAAW;AACrC,QAAQ,mBAAO,CAAC,6BAAQ;AACxB,SAAS,mBAAO,CAAC,yCAAc;AAC/B,OAAO,mBAAO,CAAC,2BAAO;AACtB,oBAAoB,mBAAO,CAAC,qDAAoB;AAChD,mBAAmB,mBAAO,CAAC,mDAAmB;AAC9C;AACA;AACA,sDAAsD,kBAAkB;AACxE;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,MAAM;AACT;AACA;AACA;AACA,kBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,qBAAqB,EAAE,EAAE,KAAK,gBAAgB,KAAK,GAAG;AACnF,IAAI;AACJ,8CAA8C,KAAK;AACnD;AACA;AACA;AACA,UAAU,IAAI,WAAW,KAAK;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;;;;;;;;;;;AC7EY;AACb;;;;;;;;;;;ACDa;AACb;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;ACNY;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACzDa;AACb;AACA,YAAY,mBAAO,CAAC,0CAAe;AACnC,UAAU,mBAAO,CAAC,sCAAU;AAC5B,aAAa,mBAAO,CAAC,4CAAa;AAClC,YAAY,mBAAO,CAAC,sEAA0B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AChDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,iBAAiB,QAAQ,KAAK,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AClCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;;;;;;;;;;AC9Ca;;AAEb,YAAY,mBAAO,CAAC,qCAAU;AAC9B,UAAU,mBAAO,CAAC,uCAAW;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,uBAAuB;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA,qDAAqD,kBAAkB;AACvE;AACA;AACA;AACA,uCAAuC,qBAAqB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wDAAwD,yBAAyB;AACjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wDAAwD,yBAAyB;AACjF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY,sBAAsB;AAClC,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AClUa;;AAEb,YAAY,mBAAO,CAAC,wCAAa;AACjC,WAAW,mBAAO,CAAC,gDAAY;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,6DAA6D,yCAAyC;AACtG;AACA,wCAAwC,kBAAkB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9Ea;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,4BAA4B;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,WAAW;AACjB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0HAA0H,KAAK,EAAE,KAAK;AACtI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,uDAAuD,iBAAiB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACvKa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,4BAA4B;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,WAAW;AACjB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0HAA0H,KAAK,EAAE,KAAK;AACtI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,uDAAuD,iBAAiB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;UCvKA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;;;ACtBa;AACb;AACA;AACA;AACA,mDAAmD,4BAA4B;AAC/E,CAAC;AACD;AACA;AACA;AACA,mBAAO,CAAC,yCAAc;AACtB;AACA,iBAAiB,mBAAO,CAAC,mDAAmB;AAC5C,WAAW,mBAAO,CAAC,6CAAgB;AACnC,SAAS,mBAAO,CAAC,yCAAc;AAC/B,OAAO,mBAAO,CAAC,2BAAO;AACtB,GAAG,UAAU,EAAE,mBAAO,CAAC,2BAAO;AAC9B,GAAG,6BAA6B,EAAE,mBAAO,CAAC,mCAAW;AACrD,QAAQ,mBAAO,CAAC,6BAAQ;AACxB,iBAAiB,mBAAO,CAAC,uCAAa;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,uDAA0B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,EAAE;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,mBAAO,CAAC,+BAAS;AAClB;AACA;AACA;AACA,CAAC;AACD;AACA,uD","sources":["webpack://Chief Client++ Webpacker/../Client/IPCMessages.h","webpack://Chief Client++ Webpacker/./src/ChiefUserscript.js","webpack://Chief Client++ Webpacker/./src/Console.js","webpack://Chief Client++ Webpacker/./src/FilePicker.js","webpack://Chief Client++ Webpacker/./src/Fixes.js","webpack://Chief Client++ Webpacker/./src/IPC.js","webpack://Chief Client++ Webpacker/./src/LegacyUserscript.js","webpack://Chief Client++ Webpacker/./src/RPC.js","webpack://Chief Client++ Webpacker/./src/Resources.js","webpack://Chief Client++ Webpacker/./src/Runtime.js","webpack://Chief Client++ Webpacker/./src/Site.js","webpack://Chief Client++ Webpacker/./src/libs/Events.js","webpack://Chief Client++ Webpacker/./src/libs/ExtendMenu.js","webpack://Chief Client++ Webpacker/./src/libs/HTMLProxy.js","webpack://Chief Client++ Webpacker/./src/libs/Keybind.js","webpack://Chief Client++ Webpacker/./src/libs/MenuUI/Control.js","webpack://Chief Client++ Webpacker/./src/libs/MenuUI/Window/Category.js","webpack://Chief Client++ Webpacker/./src/libs/Utils.js","webpack://Chief Client++ Webpacker/./src/libs/utils.js","webpack://Chief Client++ Webpacker/webpack/bootstrap","webpack://Chief Client++ Webpacker/./src/index.js"],"sourcesContent":["exports.LogType={info:0,error:1,warn:2,debug:3};exports.IM={rpc_update:0,rpc_clear:1,rpc_init:2,save_config:3,shell_open:4,fullscreen:5,update_meta:6,revert_meta:7,reload_config:8,browse_file:9,mousedown:10,mouseup:11,mousemove:12,mousewheel:13,pointer:14,open_devtools:15,log:16,relaunch_webview:17,close_window:18,reload_window:19,seek_game:20}","'use strict';\r\n\r\nvar console = require('./Console'),\r\n\tutils = require('./libs/Utils');\r\n\r\nclass ChiefUserscript {\r\n\tconstructor(name, metadata){\r\n\t\tthis.name = name;\r\n\t\tthis.metadata = metadata;\r\n\t\t\r\n\t\t// utils.assign_type(this.template, metadata);\r\n\t\t// done in host c++\r\n\t\t\r\n\t\tvar { libs, gui } = this.metadata.features;\r\n\t\t\r\n\t\tif(libs.utils)libs.utils = utils;\r\n\t}\r\n\t// returns false if the script failed to execute, otherwise true\r\n\tasync run(script, site, menu){\r\n\t\tif(!this.metadata.locations.some(s => s == site || s == 'all'))return false;\r\n\t\t\r\n\t\tvar exports = {},\r\n\t\t\trun,\r\n\t\t\tcontext = { _metadata: this.metadata, exports, console };\r\n\t\t\t\r\n\t\t\r\n\t\ttry{\r\n\t\t\t// cannot use import/export, fix soon\r\n\t\t\trun = eval(`(function(${Object.keys(context)}){${script}\\n//# sourceURL=https://krunker.io/userscripts:/${this.name}\\n})`);\r\n\t\t}catch(err){\r\n\t\t\tconsole.error(`Error parsing userscript ${this.name}:\\n`, err);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tif(menu){\r\n\t\t\tlet { userscripts } = menu.config,\r\n\t\t\t\t{ author, features } = this.metadata;\r\n\t\t\t\r\n\t\t\tObject.defineProperty(features, 'config', {\r\n\t\t\t\tget(){\r\n\t\t\t\t\treturn userscripts[author];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\ttry{\r\n\t\t\trun(...Object.values(context));\r\n\t\t}catch(err){\r\n\t\t\tconsole.error(`Error executing userscript ${this.name}:\\n`, err);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tvar { gui } = this.metadata.features;\r\n\t\t\r\n\t\tif(menu)for(let [ labelct, controls ] of Object.entries(gui)){\r\n\t\t\tlet category = menu.category(labelct);\r\n\t\t\t\r\n\t\t\tfor(let [ labelco, data ] of Object.entries(controls)){\r\n\t\t\t\tlet change_callback = data.change;\r\n\t\t\t\t\r\n\t\t\t\tdelete data.change;\r\n\t\t\t\t\r\n\t\t\t\tif(typeof data.walk == 'string')data.walk = `userscripts.${this.metadata.author}.${data.walk}`;\r\n\t\t\t\t\r\n\t\t\t\tlet control = category.control(labelco, data);\r\n\t\t\t\t\r\n\t\t\t\tif(change_callback)control.on('change', (value, init) => {\r\n\t\t\t\t\tvar func = exports[change_callback];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(func)func(value, init);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n};\r\n\r\nmodule.exports = ChiefUserscript;","'use strict';\r\n\r\nexports.log = console.log.bind(console);\r\nexports.info = console.info.bind(console);\r\nexports.warn = console.warn.bind(console);\r\nexports.error = console.error.bind(console);\r\nexports.debug = console.debug.bind(console);\r\nexports.trace = console.trace.bind(console);","'use strict';\r\n\r\nvar Control = require('./libs/MenuUI/Control'),\r\n\tutils = require('./libs/Utils'),\r\n\t{ IM, ipc } = require('./IPC');\r\n\r\nclass FilePicker extends Control.Types.TextBoxControl {\r\n\tstatic id = 'filepicker';\r\n\tcreate(...args){\r\n\t\tsuper.create(...args);\r\n\t\tthis.browse = utils.add_ele('div', this.content, {\r\n\t\t\tclassName: 'settingsBtn',\r\n\t\t\ttextContent: 'Browse',\r\n\t\t\tstyle: {\r\n\t\t\t\twidth: '100px',\r\n\t\t\t},\r\n\t\t\tevents: {\r\n\t\t\t\tclick: () => {\r\n\t\t\t\t\tvar id = ~~(Math.random() * 2147483647);\r\n\t\t\t\t\t\r\n\t\t\t\t\tipc.once(id, (data, error) => {\r\n\t\t\t\t\t\tif(error)return;\r\n\t\t\t\t\t\tthis.value = this.input.value = data;\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t// send entries instead of an object, c++ json parser removes the order\r\n\t\t\t\t\tipc.send(IM.browse_file, id, this.data.title, Object.entries(this.data.filters));\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n};\r\n\r\nmodule.exports = Control.Types.FilePicker = FilePicker;","'use strict';\r\n\r\nvar utils = require('./libs/Utils'),\r\n\t{ ipc, IM }  = require('./IPC'),\r\n\tconsole = require('./Console'),\r\n\tlistening = new WeakSet(),\r\n\tlocked_node;\r\n\r\ndocument.addEventListener('pointerlockchange', () => {\r\n\tif(!document.pointerLockElement){\r\n\t\tlocked_node = null;\r\n\t\treturn ipc.send(IM.pointer, false);\r\n\t}\r\n\t\r\n\tlocked_node = document.pointerLockElement;\r\n\tipc.send(IM.pointer, true);\r\n});\r\n\r\nsetInterval(() => {\r\n\tipc.send(IM.pointer, document.pointerLockElement != void[]);\r\n}, 300);\r\n\r\nipc.on(IM.mousewheel, deltaY => {\r\n\tlocked_node?.dispatchEvent(new WheelEvent('wheel', { deltaY }));\r\n});\r\n\r\nipc.on(IM.mousedown, (clientX, clientY, button) => {\r\n\tlocked_node?.dispatchEvent(new MouseEvent('mousedown', { button, clientX, clientY }));\r\n});\r\n\r\nipc.on(IM.mouseup, (clientX, clientY, button) => {\r\n\tlocked_node?.dispatchEvent(new MouseEvent('mouseup', { button, clientX, clientY }));\r\n});\r\n\r\nipc.on(IM.mousemove, (clientX, clientY, movementX, movementY) => {\r\n\tlocked_node?.dispatchEvent(new MouseEvent('mousemove', {\r\n\t\tclientX, clientY,\r\n\t\tmovementX, movementY,\r\n\t}));\r\n});\r\n\r\nif(localStorage.kro_setngss_scaleUI == void[])localStorage.kro_setngss_scaleUI = 0.7;\r\n\r\nvar MIN_WIDTH = 1700,\r\n\tMIN_HEIGHT = 900;\r\n\r\nif(localStorage.kro_setngss_uiScaling !== 'false'){\r\n\tvar ls = localStorage.kro_setngss_scaleUI,\r\n\t\tscale_ui = ls != void[] ? parseInt(ls) : 0.7;\r\n\r\n\tscale_ui = Math.min(1, Math.max(0.1, Number(scale_ui)));\r\n\tscale_ui = 1 + (1 - scale_ui);\r\n\r\n\tvar height = window.innerHeight,\r\n\t\twidth = window.innerWidth,\r\n\t\tmin_width = MIN_WIDTH * scale_ui,\r\n\t\tmin_height = MIN_HEIGHT * scale_ui,\r\n\t\twidth_scale = width / min_width,\r\n\t\theight_scale = height / min_height,\r\n\t\telm = document.getElementById('uiBase'),\r\n\t\tstyle = height_scale < width_scale ? {\r\n\t\t\ttransform: height_scale,\r\n\t\t\twidth: width / height_scale,\r\n\t\t\theight: min_height,\r\n\t\t} : {\r\n\t\t\ttransform: width_scale,\r\n\t\t\twidth: min_width,\r\n\t\t\theight: height / width_scale,\r\n\t\t};\r\n\r\n\r\n\tutils.wait_for(() => document.querySelector('#uiBase')).then(ui_base => setTimeout(() => {\r\n\t\tui_base.style.transform = 'scale(' + style.transform.toFixed(3) + ')';\r\n\t\tui_base.style.width = style.width.toFixed(3) + 'px';\r\n\t\tui_base.style.height = style.height.toFixed(3) + 'px';\r\n\t}, 10));\r\n}","'use strict';\r\n\r\n// webview is chrome.webview but captured by bootstrap.js\r\n\r\nvar Events = require('./libs/Events'),\t\r\n\tmessages = require('../../Client/IPCMessages.h'),\r\n\t{ IM, LogType } = messages;\r\n\r\nclass IPCConsole {\r\n\tconstructor(ipc, prefix){\r\n\t\tthis.ipc = ipc;\r\n\t\tthis.prefix = [];\r\n\t\tif(typeof prefix == 'string')this.prefix.push(prefix);\r\n\t}\r\n\tlog(...args){\r\n\t\tthis.ipc.send(IM.log, LogType.info, args.join(' '));\r\n\t}\r\n\tinfo(...args){\r\n\t\tthis.ipc.send(IM.log, LogType.info, args.join(' '));\r\n\t}\r\n\twarn(...args){\r\n\t\tthis.ipc.send(IM.log, LogType.warn, args.join(' '));\r\n\t}\r\n\terror(...args){\r\n\t\tthis.ipc.send(IM.log, LogType.error, args.join(' '));\r\n\t}\r\n\tdebug(...args){\r\n\t\tthis.ipc.send(IM.log, LogType.debug, args.join(' '));\r\n\t}\r\n};\r\n\r\nclass IPC extends Events {\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t}\r\n\tconsole = new IPCConsole();\r\n\tsend(event, ...data){\r\n\t\tif(typeof event != 'number')throw new TypeError(`Event must be a number. Recieved '${event}'`);\r\n\t\twebview.postMessage(JSON.stringify([ event, ...data ]));\r\n\t\treturn true;\r\n\t}\r\n};\r\n\r\nvar ipc = new IPC();\r\n\r\nwebview.addEventListener('message', ({ data }) => ipc.emit(...data));\r\n\r\nObject.assign(exports, messages);\r\nexports.ipc = ipc;\r\nexports.IM = IM;","'use strict';\r\n\r\n// Legacy IDKR userscript\r\n\r\nvar site = require('./Site');\r\n\r\nclass Userscript {\r\n\t#field(compare, value){\r\n\t\tif(Array.isArray(compare)){\r\n\t\t\tif(!Array.isArray(value))value = [].concat(value);\r\n\t\t\t\r\n\t\t\tif(!value.length || value.some(data => typeof data != 'string'))return compare;\r\n\t\t}else if(typeof compare != typeof value)return compare;\r\n\t\t\r\n\t\treturn value;\r\n\t}\r\n\t#run = () => {}\r\n\tname = 'Unnamed userscript';\r\n\tversion = 'Unknown version';\r\n\tauthor = 'Unknown author';\r\n\tdescription = 'No description provided';\r\n\tlocations = ['game'];\r\n\tplatforms = ['all'];\r\n\tsettings = { used: false };\r\n\tconstructor(data){\r\n\t\tthis.#run = this.#field(this.#run, data.run);\r\n\t\tthis.name = this.#field(this.name, data.name);\r\n\t\tthis.version = this.#field(this.version, data.version);\r\n\t\tthis.author = this.#field(this.author, data.author);\r\n\t\tthis.description = this.#field(this.description, data.description);\r\n\t\tthis.locations = this.#field(this.locations, data.locations);\r\n\t\tthis.platforms = this.#field(this.platforms, data.platforms);\r\n\t\tthis.settings = this.#field(this.settings, data.settings);\r\n\t}\r\n\tasync run(){\r\n\t\tif(!this.locations.includes('all') && !this.locations.includes(site))return false;\r\n\t\t\r\n\t\ttry{\r\n\t\t\tawait this.#run();\r\n\t\t\treturn true;\r\n\t\t}catch(err){\r\n\t\t\tconsole.error(err);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nmodule.exports = Userscript;","'use strict';\r\n\r\nvar { IM, ipc } = require('./IPC');\r\n\r\nclass RPC {\r\n\tstart = Date.now();\r\n\tlistener(){\r\n\t\tthis.update();\r\n\t}\r\n\tconstructor(){\r\n\t\tthis.interval = setInterval(this.update.bind(this), 1000);\r\n\t}\r\n\tdelete(){\r\n\t\tclearInterval(this.interval);\r\n\t}\r\n\tupdate(force = false){\r\n\t\tif(!window.getGameActivity)return;\r\n\t\t\r\n\t\tvar activity;\r\n\t\t\r\n\t\ttry{\r\n\t\t\tactivity = window.getGameActivity();\r\n\t\t}catch(err){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar { user, map, mode } = activity,\r\n\t\t\targs = [ user, map, mode ],\r\n\t\t\tjargs = JSON.stringify(args);\r\n\t\t\r\n\t\tif(!force && jargs != this.last){\r\n\t\t\tipc.send(IM.rpc_update, this.start, ...args);\r\n\t\t\tthis.last = jargs;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nmodule.exports = RPC;","'use strict';\r\n\r\nvar { css, js } = require('./Runtime'),\r\n\tsite = require('./Site'),\r\n\tutils = require('./libs/Utils'),\r\n\tipc = require('./IPC'),\r\n\tLegacyUserscript = require('./LegacyUserscript'),\r\n\tChiefUserscript = require('./ChiefUserscript'),\r\n\tadd_css = () => {\r\n\t\tfor(let [ name, data ] of Object.entries(css)){\r\n\t\t\tlet url = URL.createObjectURL(new Blob([ data ], { type: 'text/css' }));\r\n\t\t\t\r\n\t\t\tlet link = document.head.appendChild(Object.assign(document.createElement('link'), {\r\n\t\t\t\trel: 'stylesheet',\r\n\t\t\t\thref: url,\r\n\t\t\t}));\r\n\r\n\t\t\tlink.addEventListener('load', () => {\r\n\t\t\t\tURL.revokeObjectURL(url);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tdocument.head.appendChild(link);\r\n\t\t}\r\n\t};\r\n\r\nmodule.exports = menu => {\r\n\tfor(let [ name, [ data, metadata, errors ] ] of Object.entries(js)){\r\n\t\tif(metadata){\r\n\t\t\tif(errors)for(let error of errors)console.error(error);\r\n\t\t\telse new ChiefUserscript(name, metadata).run(data, site, menu);\r\n\t\t}else{ // legacy idkr, unknown\r\n\t\t\t// quick fix\r\n\t\t\tif(data.includes('// ==UserScript==') && site != 'game')continue;\r\n\t\t\t\r\n\t\t\tlet module = { exports: {} },\r\n\t\t\t\tfunc,\r\n\t\t\t\tcontext = {\r\n\t\t\t\t\tmodule,\r\n\t\t\t\t\texports: module.exports,\r\n\t\t\t\t\t// console: ipc.console,\r\n\t\t\t\t};\r\n\t\t\t\r\n\t\t\ttry{\r\n\t\t\t\tfunc = eval(`(function(${Object.keys(context)}){${data}//# sourceURL=${name}\\n})`);\r\n\t\t\t}catch(err){\r\n\t\t\t\tconsole.error(`Error parsing UserScript ${name}:\\n`, err);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// try{...}catch(err){...} doesnt provide: line, column\r\n\t\t\t\r\n\t\t\ttry{\r\n\t\t\t\tfunc(...Object.values(context));\r\n\t\t\t\t\r\n\t\t\t\tlet userscript = new LegacyUserscript(module.exports);\r\n\t\t\t\t\r\n\t\t\t\tuserscript.run();\r\n\t\t\t}catch(err){\r\n\t\t\t\tconsole.warn('Error executing UserScript:', name, '\\n', err);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nnew MutationObserver((mutations, observer) => {\r\n\tfor(let mutation of mutations){\r\n\t\tfor(let node of mutation.addedNodes){\r\n\t\t\tif(node.nodeName == 'LINK' && new URL(node.href || '/', location).pathname == '/css/main_custom.css'){\r\n\t\t\t\tadd_css();\r\n\t\t\t\tobserver.disconnect();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}).observe(document, {\r\n\tchildList: true,\r\n\tsubtree: true,\r\n});","'use strict';\r\nmodule.exports = _RUNTIME_DATA_;","'use strict';\r\n\r\nmodule.exports = {\r\n\t'/': 'game',\r\n\t'/social.html': 'social',\r\n\t'/editor.html': 'editor',\r\n}[location.pathname];","'use strict';\r\n\r\nclass Events {\r\n\tstatic original = Symbol();\r\n\t#events = new Map();\r\n\t#resolve(event){\r\n\t\tvar callbacks = this.#events.get(event);\r\n\t\t\r\n\t\tif(!callbacks){\r\n\t\t\tcallbacks = new Set();\r\n\t\t\tthis.#events.set(event, callbacks);\r\n\t\t}\r\n\t\t\r\n\t\treturn callbacks;\r\n\t};\r\n\ton(event, callback){\r\n\t\tif(typeof callback != 'function')throw new TypeError('Callback is not a function.');\r\n\t\t\r\n\t\tthis.#resolve(event).add(callback);\r\n\t\t\r\n\t\treturn this;\r\n\t}\r\n\tonce(event, callback){\r\n\t\tvar cb = function(...data){\r\n\t\t\tthis.off(event, callback);\r\n\t\t\tcallback.call(this, ...data);\r\n\t\t};\r\n\t\t\r\n\t\tcallback[Events.original] = cb;\r\n\t\t\r\n\t\treturn this.on(event, cb);\r\n\t}\r\n\toff(event, callback){\r\n\t\tif(typeof callback != 'function')throw new TypeError('Callback is not a function.');\r\n\t\t\r\n\t\tif(callback[Events.original])callback = callback[Events.original];\r\n\t\t\r\n\t\tvar list = this.#resolve(event);\r\n\t\t\r\n\t\treturn list.delete(callback);\r\n\t}\r\n\temit(event, ...data){\r\n\t\tvar set = this.#resolve(event);\r\n\t\t\r\n\t\tif(!set.size){\r\n\t\t\tif(event == 'error')throw data[0];\r\n\t\t\treturn false;\r\n\t\t}else for(let item of set)try{\r\n\t\t\titem.call(this, ...data);\r\n\t\t}catch(err){\r\n\t\t\tthis.emit('error', err);\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n};\r\n\r\nmodule.exports = Events;","'use strict';\r\n\r\nvar utils = require('../libs/utils'),\r\n\tEvents = require('./Events'),\r\n\tHTMLProxy = require('./HTMLProxy'),\r\n\tCategory = require('./MenuUI/Window/Category');\r\n\r\nclass ExtendMenu extends Events {\r\n\thtml = new HTMLProxy();\r\n\tasync save_config(){\r\n\t\tconsole.error('save_config() not implemented');\r\n\t}\r\n\tasync load_config(){\r\n\t\tconsole.error('load_config() not implemented');\r\n\t}\r\n\ttab = {\r\n\t\tcontent: this.html,\r\n\t\twindow: {\r\n\t\t\tmenu: this,\r\n\t\t},\r\n\t};\r\n\tasync insert(label){\r\n\t\tvar array = await utils.wait_for(() => typeof windows == 'object' && windows),\r\n\t\t\tsettings = array[0],\r\n\t\t\tindex = settings.tabs.length,\r\n\t\t\tget = settings.getSettings;\r\n\t\r\n\t\tsettings.tabs.push({\r\n\t\t\tname: label,\r\n\t\t\tcategories: [],\r\n\t\t});\r\n\t\t\r\n\t\tsettings.getSettings = () => settings.tabIndex == index ? this.html.get() : get.call(settings);\r\n\t}\r\n\tcategories = new Set();\r\n\tcategory(label){\r\n\t\tvar cat = new Category(this.tab, label);\r\n\t\tthis.categories.add(cat);\r\n\t\treturn cat;\r\n\t}\r\n\tupdate(init = false){\r\n\t\tfor(let category of this.categories)category.update(init);\t\r\n\t}\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t}\r\n};\r\n\r\nmodule.exports = ExtendMenu;","'use strict';\r\n\r\nclass HTMLProxy {\r\n\tchildren = [];\r\n\tappendChild(node){\r\n\t\tthis.append(node);\r\n\t\treturn node;\r\n\t}\r\n\tappend(node){\r\n\t\tthis.children.push(node);\r\n\t}\r\n\tconstructor(){\r\n\t\tthis.id = 'a-' + Math.random().toString().slice(2);\r\n\t\t\r\n\t\tvar children = this.children;\r\n\t\t\r\n\t\tcustomElements.define(this.id, class extends HTMLElement {\r\n\t\t\tconnectedCallback(){\r\n\t\t\t\tfor(let node of children)this.parentNode.insertBefore(node, this);\r\n\t\t\t\tthis.remove();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tget(){\r\n\t\tvar html = `<${this.id}></${this.id}>`;\r\n\t\t\r\n\t\t// html += '<!-- ';\r\n\t\t// for(let node of this.children)html += node.outerHTML.replace(/-->/g, '->');\r\n\t\t// html += '-->';\r\n\t\t\r\n\t\treturn html;\r\n\t}\r\n};\r\n\r\nmodule.exports = HTMLProxy;","'use strict';\r\n\r\nclass Keybind {\r\n\tstatic keybinds = new Set();\r\n\tconstructor(key, callback){\r\n\t\tthis.keys = new Set();\r\n\t\tthis.callbacks = new Set();\r\n\t\tKeybind.keybinds.add(this);\r\n\t\t\r\n\t\tif(typeof key == 'string'){\r\n\t\t\tthis.key(key);\r\n\t\t\tkey = callback;\r\n\t\t}\r\n\t\t\r\n\t\tif(typeof key == 'function')this.callback(callback);\r\n\t}\r\n\tdelete(){\r\n\t\tKeybind.keybinds.delete(this);\r\n\t}\r\n\tset_key(...args){\r\n\t\treturn this.keys = new Set(), this.key(...args);\r\n\t}\r\n\tset_callback(...args){\r\n\t\treturn this.callbacks = new Set(), this.key(...args);\r\n\t}\r\n\tkey(...keys){\r\n\t\tfor(let key of keys)this.keys.add(key);\r\n\t\treturn this;\r\n\t}\r\n\tcallback(...funcs){\r\n\t\tfor(let func of funcs)this.callbacks.add(func);\r\n\t\treturn this;\r\n\t}\r\n};\r\n\r\nwindow.addEventListener('keydown', event => {\r\n\tif(event.repeat)return;\r\n\tfor(let node of [...event.composedPath()])if(node.tagName)for(let part of ['INPUT', 'TEXTAREA'])if(node.tagName.includes(part))return;\r\n\t\r\n\t//  || keybind.repeat\r\n\tfor(let keybind of Keybind.keybinds)if((!event.repeat) && keybind.keys.has(event.code)){\r\n\t\tevent.preventDefault();\r\n\t\tfor(let callback of keybind.callbacks)callback(event);\r\n\t}\r\n});\r\n\r\nmodule.exports = Keybind;","'use strict';\n\nvar utils = require('../Utils'),\n\tEvents = require('../Events');\n\nclass Control extends Events {\n\tconstructor(name, data, category){\n\t\tsuper();\n\t\t\n\t\tthis.data = data;\n\t\tthis.name = name;\n\t\tthis.category = category;\n\t\tthis.menu = this.category.tab.window.menu;\n\t\t\n\t\tthis.content = utils.add_ele('div', this.category.content, { className: 'settName' });\n\t\tthis.label = utils.add_ele('text', this.content);\n\t\t\n\t\tthis.create();\n\t\t\n\t\tthis.menu.emit('control', this);\n\t}\n\tlabel_text(text){\n\t\tthis.label.nodeValue = text;\n\t}\n\tremove(){\n\t\tthis.content.remove();\n\t}\n\twalk(data){\n\t\tvar state = this.menu.config,\n\t\t\tlast_state,\n\t\t\tlast_key;\n\t\t\n\t\tfor(let key of data.split('.'))state = (last_state = state)[last_key = key] || {};\n\t\t\n\t\treturn [ last_state, last_key ];\n\t}\n\tget value(){\n\t\tif(typeof this.data.value == 'function')return this.data.value;\n\t\t\n\t\tvar walked = this.walk(this.data.walk);\n\t\t\n\t\treturn walked[0][walked[1]];\n\t}\n\tset value(value){\n\t\tvar walked = this.walk(this.data.walk);\n\t\t\n\t\twalked[0][walked[1]] = value;\n\t\t\n\t\tthis.menu.save_config();\n\t\t\n\t\tthis.emit('change', value);\n\t\t\n\t\treturn value;\n\t}\n\tcreate(){}\n\tinteract(){\n\t\tconsole.warn('No defined interaction for', this);\n\t}\n\tupdate(init){\n\t\t// MAKE CHANGE EMIT CALLED FROM THE CATEGORY\n\t\tif(init)this.emit('change', this.value, true);\n\t\tthis.label_text(this.name);\n\t}\n\tshow_content(){\n\t\tthis.content.style.display = 'block';\n\t}\n\thide_content(){\n\t\tthis.content.style.display = 'none';\n\t}\n};\n\nclass BooleanControl extends Control {\n\tstatic id = 'boolean';\n\tcreate(){\n\t\tthis.switch = utils.add_ele('label', this.content, {\n\t\t\tclassName: 'switch',\n\t\t\ttextContent: 'Run',\n\t\t\tstyle: {\n\t\t\t\t'margin-left': '10px',\n\t\t\t},\n\t\t});\n\t\t\n\t\tthis.input = utils.add_ele('input', this.switch, { type: 'checkbox' });\n\t\t\n\t\tthis.input.addEventListener('change', () => this.value = this.input.checked);\n\t\t\n\t\tutils.add_ele('span', this.switch, { className: 'slider' });\n\t}\n\tupdate(init){\n\t\tsuper.update(init);\n\t\tif(init)this.input.checked = this.value;\n\t\tthis.label_text(this.name);\n\t}\n}\n\nclass SelectControl extends Control {\n\tstatic id = 'select';\n\tcreate(){\n\t\tthis.select = utils.add_ele('select', this.content, { className: 'inputGrey2' });\n\t\t\n\t\tthis.select.addEventListener('change', () => this.value = this.select.value);\n\t\t\n\t\tfor(let value in this.data.value)utils.add_ele('option', this.select, {\n\t\t\tvalue: value,\n\t\t\ttextContent: this.data.value[value],\n\t\t});\n\t}\n\tupdate(init){\n\t\tsuper.update(init);\n\t\t\n\t\tif(init)this.select.value = this.value;\n\t}\n};\n\nclass DropdownControl extends Control {\n\tstatic id = 'dropdown';\n\tcreate(){\n\t\tthis.select = utils.add_ele('select', this.content, { className: 'inputGrey2' });\n\t\t\n\t\tthis.select.addEventListener('change', () => {\n\t\t\tthis.key = this.select.value;\n\t\t\tthis.value = this.data.value[this.select.value];\n\t\t});\n\t\t\n\t\tfor(let key in this.data.value)utils.add_ele('option', this.select, {\n\t\t\ttextContent: key,\n\t\t\tvalue: key,\n\t\t});\n\t}\n\tupdate(init){\n\t\tsuper.update(init);\n\t\t\n\t\tif(init)for(let [ key, value ] of Object.entries(this.data.value)){\n\t\t\tif(value == this.value){\n\t\t\t\tthis.select.value = key;\n\t\t\t\tthis.key = key;\n\t\t\t}\n\t\t}\n\t}\n};\n\nclass LinkControl extends Control {\n\tstatic id = 'link';\n\tcreate(){\n\t\tthis.link = utils.add_ele('a', this.content, {\n\t\t\thref: this.value,\n\t\t});\n\t\tthis.link.append(this.label);\n\t}\n\tinteract(){\n\t\tthis.link.click();\n\t}\n};\n\nclass LinkFunctionControl extends Control {\n\tstatic id = 'linkfunction';\n\tcreate(){\n\t\tthis.link = utils.add_ele('a', this.content, {\n\t\t\thref: '#',\n\t\t\tevents: {\n\t\t\t\tclick: () => this.interact(),\n\t\t\t},\n\t\t});\n\t\tthis.link.append(this.label);\n\t}\n\tinteract(){\n\t\tthis.value();\n\t}\n};\n\n\nclass FunctionControl extends Control {\n\tstatic id = 'function';\n\tcreate(){\n\t\tutils.add_ele('div', this.content, {\n\t\t\tclassName: 'settingsBtn',\n\t\t\ttextContent: this.data.text || 'Run',\n\t\t\tevents: {\n\t\t\t\tclick: () => this.interact(),\n\t\t\t},\n\t\t});\n\t}\n\tinteract(){\n\t\tthis.value();\n\t}\n};\n\nclass KeybindControl extends Control {\n\tstatic id = 'keybind';\n\tcreate(){\n\t\tthis.input = utils.add_ele('input', this.content, {\n\t\t\tclassName: 'inputGrey2',\n\t\t\tplaceholder: 'Press a key',\n\t\t\tstyle: {\n\t\t\t\tdisplay: 'inline-block',\n\t\t\t\twidth: '220px',\n\t\t\t},\n\t\t});\n\t\t\n\t\tthis.input.addEventListener('focus', () => {\n\t\t\tthis.input.value = '';\n\t\t});\n\t\t\n\t\tthis.input.addEventListener('keydown', event => {\n\t\t\tevent.preventDefault();\n\t\t\tthis.value = event.code == 'Escape' ? null : event.code;\n\t\t\tthis.input.blur();\n\t\t});\n\n\t\tthis.input.addEventListener('blur', () => {\n\t\t\tthis.category.update();\n\t\t\tthis.update();\n\t\t});\n\t}\n\tupdate(init){\n\t\tsuper.update(init);\n\t\t\n\t\tthis.input.value = utils.string_key(this.value);\n\t}\n};\n\nclass TextBoxControl extends Control {\n\tstatic id = 'textbox';\n\tcreate(){\n\t\tthis.input = utils.add_ele('input', this.content, {\n\t\t\tclassName: 'inputGrey2',\n\t\t\tplaceholder: this.data.placeholder || '',\n\t\t\tstyle: {\n\t\t\t\tdisplay: 'inline-block',\n\t\t\t\twidth: '220px',\n\t\t\t},\n\t\t});\n\t\t\n\t\tthis.input.addEventListener('change', () => this.value = this.input.value);\n\t}\n\tupdate(init){\n\t\tsuper.update(init);\n\t\t\n\t\tif(init)this.input.value = this.value;\n\t}\n};\n\nclass SliderControl extends Control {\n\tstatic id = 'slider';\n\tcreate(){\n\t\tvar slider = {\n\t\t\tmin: this.data.min,\n\t\t\tmax: this.data.max,\n\t\t\tstep: this.data.step,\n\t\t};\n\t\t\n\t\tthis.input = utils.add_ele('input', this.content, {\n\t\t\tclassName: 'sliderVal',\n\t\t\ttype: 'number',\n\t\t\t...slider,\n\t\t});\n\t\t\n\t\tthis.slider = utils.add_ele('input', utils.add_ele('div', this.content, {\n\t\t\tclassName: 'slidecontainer',\n\t\t\tstyle: { 'margin-top': '-8px' },\n\t\t}), {\n\t\t\tclassName: 'sliderM',\n\t\t\ttype: 'range',\n\t\t\t...slider,\n\t\t});\n\t\t\n\t\tthis.input.addEventListener('focus', () => (this.input_focused = true, this.interact()));\n\t\tthis.input.addEventListener('blur', () => (this.input_focused = false, this.interact()));\n\t\t\n\t\tthis.slider.addEventListener('input', () => this.interact(this.value = this.slider.value));\n\t\tthis.input.addEventListener('input', () => this.interact(this.value = +this.input.value));\n\t}\n\tinteract(){\n\t\tvar label = !this.input_focused && this.data.labels && this.data.labels[this.value] || this.value;\n\t\t\n\t\tthis.input.type = typeof label == 'string' ? 'text' : 'number';\n\t\t\n\t\tthis.input.value = label;\n\t\t\n\t\tthis.slider.value = this.value;\n\t}\n\tupdate(init){\n\t\tsuper.update(init);\n\t\t\n\t\tthis.interact();\n\t}\n};\n\nclass ColorControl extends Control {\n\tstatic id = 'color';\n\tcreate(){\n\t\tthis.input = utils.add_ele('input', this.content, {\n\t\t\tname: 'color',\n\t\t\ttype: 'color',\n\t\t\tstyle: {\n\t\t\t\tfloat: 'right',\n\t\t\t},\n\t\t});\n\t\t\n\t\tthis.input.addEventListener('change', () => this.value = this.input.value);\n\t}\n\tupdate(init){\n\t\tsuper.update(init);\n\t\t\n\t\tif(init)this.input.value = this.value;\n\t}\n};\n\nControl.Types = {\n\tKeybindControl,\n\tSelectControl,\n\tDropdownControl,\n\tBooleanControl,\n\tFunctionControl,\n\tLinkControl,\n\tTextBoxControl,\n\tSliderControl,\n\tColorControl,\n\tLinkControl,\n\tLinkFunctionControl,\n};\n\nmodule.exports = Control;","'use strict';\n\nvar utils = require('../../Utils'),\n\tControl = require('../Control');\n\nclass Category {\n\tconstructor(tab, label){\n\t\tthis.tab = tab;\n\t\t\n\t\tthis.controls = new Set();\n\t\t\n\t\tif(label){\n\t\t\tthis.label = label;\n\t\t\t\n\t\t\tthis.header = utils.add_ele('div', this.tab.content, {\n\t\t\t\tclassName: 'setHed',\n\t\t\t});\n\t\t\t\n\t\t\tthis.header_status = utils.add_ele('span', this.header, { className: 'material-icons plusOrMinus' });\n\t\t\t\n\t\t\tutils.add_ele('text', this.header, { nodeValue: label });\n\t\t\t\n\t\t\tthis.header.addEventListener('click', () => this.toggle());\n\t\t}\n\t\t\n\t\tthis.content = utils.add_ele('div', this.tab.content, {\n\t\t\tclassName: 'setBodH',\n\t\t});\n\t\t\n\t\tif(label)this.expand();\n\t}\n\ttoggle(){\n\t\tif(this.collapsed)this.expand();\n\t\telse this.collapse();\n\t}\n\tcollapse(){\n\t\tthis.collapsed = true;\n\t\tthis.update();\n\t}\n\texpand(){\n\t\tthis.collapsed = false;\n\t\tthis.update();\n\t}\n\tupdate(init){\n\t\tthis.content.style.display = this.collapsed ? 'none' : 'block';\n\t\t\n\t\tif(this.header){\n\t\t\tthis.header.style.display = 'block';\n\t\t\tthis.header_status.textContent = 'keyboard_arrow_' + (this.collapsed ? 'right' : 'down');\n\t\t}\n\t\t\n\t\tfor(let control of this.controls)control.update(init);\n\t}\n\tshow(){\n\t\tthis.expand();\n\t\tif(this.header)this.header.style.display = 'block';\n\t}\n\thide(){\n\t\tthis.content.style.display = 'none';\n\t\tif(this.header)this.header.style.display = 'none';\n\t}\n\tfix(){\n\t\tthis.update();\n\t\tfor(let control of this.controls)control.show_content();\n\t}\n\tcontrol(name, data){\n\t\tfor(let [ cls, type ] of Object.entries(Control.Types))if(type.id == data.type){\n\t\t\tlet control = new type(name, data, this);\n\t\t\t\n\t\t\tthis.controls.add(control);\n\t\t\t\n\t\t\treturn control;\n\t\t}\n\t\t\n\t\tthrow new TypeError('Unknown type: ' + data.type);\n\t}\n};\n\nmodule.exports = Category;","'use strict';\r\n\r\nclass Utils {\r\n\tstatic is_host(url, ...hosts){\r\n\t\treturn hosts.some(host => url.hostname == host || url.hostname.endsWith('.' + host));\r\n\t}\r\n\tstatic round(n, r){\r\n\t\treturn Math.round(n * Math.pow(10, r)) / Math.pow(10, r);\r\n\t}\r\n\tstatic add_ele(node_name, parent, attributes = {}){\r\n\t\tvar crt = this.crt_ele(node_name, attributes);\r\n\t\t\r\n\t\tif(typeof parent == 'function')this.wait_for(parent).then(data => data.append(crt));\r\n\t\telse if(typeof parent == 'object' && parent != null && parent.append)parent.append(crt);\r\n\t\telse throw new Error('Parent is not resolvable to a DOM element');\r\n\t\t\r\n\t\treturn crt;\r\n\t}\r\n\tstatic crt_ele(node_name, attributes = {}){\r\n\t\tvar after = {};\r\n\t\t\r\n\t\tfor(let prop in attributes)if(typeof attributes[prop] == 'object' && attributes[prop] != null)after[prop] = attributes[prop], delete attributes[prop];\r\n\t\r\n\t\tvar node;\r\n\t\t\r\n\t\tif(node_name == 'raw')node = this.crt_ele('div', { innerHTML: attributes.html }).firstChild;\r\n\t\telse if(node_name == 'text')node = document.createTextNode('');\r\n\t\telse node = document.createElement(node_name);\r\n\t\t\r\n\t\tvar cls = attributes.className;\r\n\t\t\r\n\t\tif(cls){\r\n\t\t\tdelete attributes.className;\r\n\t\t\tnode.setAttribute('class', cls);\r\n\t\t}\r\n\t\t\r\n\t\tvar events = after.events;\r\n\t\t\r\n\t\tif(events){\r\n\t\t\tdelete after.events;\r\n\t\t\t\r\n\t\t\tfor(let event in events)node.addEventListener(event, events[event]);\r\n\t\t}\r\n\t\t\r\n\t\tObject.assign(node, attributes);\r\n\t\t\r\n\t\tfor(let prop in after)Object.assign(node[prop], after[prop]);\r\n\t\t\r\n\t\treturn node;\r\n\t}\r\n\tstatic wait_for(check, time){\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tvar interval,\r\n\t\t\t\trun = () => {\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tvar result = check();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(result){\r\n\t\t\t\t\t\t\tif(interval)clearInterval(interval);\r\n\t\t\t\t\t\t\tresolve(result);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}catch(err){console.log(err)}\r\n\t\t\t\t};\r\n\t\t\t\r\n\t\t\tinterval = run() || setInterval(run, time || 50);\r\n\t\t});\r\n\t}\r\n\tstatic sanitize(string){\r\n\t\tvar node = document.createElement('div');\r\n\t\t\r\n\t\tnode.textContent = string;\r\n\t\t\r\n\t\treturn node.innerHTML;\r\n\t}\r\n\tstatic unsanitize(string){\r\n\t\tvar node = document.createElement('div');\r\n\t\t\r\n\t\tnode.innerHTML = string;\r\n\t\t\r\n\t\treturn node.textContent;\r\n\t}\r\n\tstatic node_tree(nodes, parent = document){\r\n\t\tvar output = {\r\n\t\t\t\tparent: parent,\r\n\t\t\t},\r\n\t\t\tmatch_container = /^\\$\\s+>?/g,\r\n\t\t\tmatch_parent = /^\\^\\s+>?/g;\r\n\t\t\r\n\t\tfor(var label in nodes){\r\n\t\t\tvar value = nodes[label];\r\n\t\t\t\r\n\t\t\tif(value instanceof Node)output[label] = value;\r\n\t\t\telse if(typeof value == 'object')output[label] = this.node_tree(value, output.container);\r\n\t\t\telse if(match_container.test(nodes[label])){\r\n\t\t\t\tif(!output.container){\r\n\t\t\t\t\tconsole.warn('No container is available, could not access', value);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\toutput[label] = output.container.querySelector(nodes[label].replace(match_container, ''));\r\n\t\t\t}else if(match_parent.test(nodes[label])){\r\n\t\t\t\tif(!output.parent){\r\n\t\t\t\t\tconsole.warn('No parent is available, could not access', value);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\toutput[label] = output.parent.querySelector(nodes[label].replace(match_parent, ''));\r\n\t\t\t}else output[label] = parent.querySelector(nodes[label]);\r\n\t\t\t\r\n\t\t\tif(!output[label])console.warn('No node found, could not access', value);\r\n\t\t}\r\n\t\t\r\n\t\treturn output;\r\n\t}\r\n\tstatic string_key(key){\r\n\t\treturn key.replace(/^([A-Z][a-z]+?)([A-Z0-9][a-z]*?)/, (match, type, key) => ['Digit', 'Key'].includes(type) ? key : `${key} ${type}`);\r\n\t}\r\n\tstatic clone_obj(obj){\r\n\t\treturn JSON.parse(JSON.stringify(obj));\r\n\t}\r\n\tstatic assign_deep(target, ...objects){\r\n\t\tfor(let ind in objects)for(let key in objects[ind]){\r\n\t\t\tif(typeof objects[ind][key] == 'object' && objects[ind][key] != null && key in target)this.assign_deep(target[key], objects[ind][key]);\r\n\t\t\telse if(typeof target == 'object' && target != null)Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(objects[ind], key))\r\n\t\t}\r\n\t\t\r\n\t\treturn target;\r\n\t}\r\n\tstatic filter_deep(target, match){\r\n\t\tfor(let key in target){\r\n\t\t\tif(!(key in match))delete target[key];\r\n\t\t\t\r\n\t\t\tif(typeof match[key] == 'object' && match[key] != null)this.filter_deep(target[key], match[key]);\r\n\t\t}\r\n\t\t\r\n\t\treturn target;\r\n\t}\r\n\tstatic redirect(name, from, to){\r\n\t\tvar proxy = Symbol();\r\n\t\t\r\n\t\tto.addEventListener(name, event => {\r\n\t\t\tif(event[proxy])return;\r\n\t\t});\r\n\t\t\r\n\t\tfrom.addEventListener(name, event => to.dispatchEvent(Object.assign(new(event.constructor)(name, event), {\r\n\t\t\t[proxy]: true,\r\n\t\t\tstopImmediatePropagation: event.stopImmediatePropagation.bind(event),\r\n\t\t\tpreventDefault: event.preventDefault.bind(event),\r\n\t\t})));\r\n\t}\r\n\tstatic promise(){\r\n\t\tvar temp,\r\n\t\t\tpromise = new Promise((resolve, reject) => temp = { resolve, reject });\r\n\t\t\r\n\t\tObject.assign(promise, temp);\r\n\t\t\r\n\t\tpromise.resolve_in = (time = 0, data) => setTimeout(() => promise.resolve(data), time);\r\n\t\t\r\n\t\treturn promise;\r\n\t}\r\n\tstatic rtn(number, unit){\r\n\t\treturn (number / unit).toFixed() * unit;\r\n\t}\r\n};\r\n\r\nmodule.exports = Utils;","'use strict';\r\n\r\nclass Utils {\r\n\tstatic is_host(url, ...hosts){\r\n\t\treturn hosts.some(host => url.hostname == host || url.hostname.endsWith('.' + host));\r\n\t}\r\n\tstatic round(n, r){\r\n\t\treturn Math.round(n * Math.pow(10, r)) / Math.pow(10, r);\r\n\t}\r\n\tstatic add_ele(node_name, parent, attributes = {}){\r\n\t\tvar crt = this.crt_ele(node_name, attributes);\r\n\t\t\r\n\t\tif(typeof parent == 'function')this.wait_for(parent).then(data => data.append(crt));\r\n\t\telse if(typeof parent == 'object' && parent != null && parent.append)parent.append(crt);\r\n\t\telse throw new Error('Parent is not resolvable to a DOM element');\r\n\t\t\r\n\t\treturn crt;\r\n\t}\r\n\tstatic crt_ele(node_name, attributes = {}){\r\n\t\tvar after = {};\r\n\t\t\r\n\t\tfor(let prop in attributes)if(typeof attributes[prop] == 'object' && attributes[prop] != null)after[prop] = attributes[prop], delete attributes[prop];\r\n\t\r\n\t\tvar node;\r\n\t\t\r\n\t\tif(node_name == 'raw')node = this.crt_ele('div', { innerHTML: attributes.html }).firstChild;\r\n\t\telse if(node_name == 'text')node = document.createTextNode('');\r\n\t\telse node = document.createElement(node_name);\r\n\t\t\r\n\t\tvar cls = attributes.className;\r\n\t\t\r\n\t\tif(cls){\r\n\t\t\tdelete attributes.className;\r\n\t\t\tnode.setAttribute('class', cls);\r\n\t\t}\r\n\t\t\r\n\t\tvar events = after.events;\r\n\t\t\r\n\t\tif(events){\r\n\t\t\tdelete after.events;\r\n\t\t\t\r\n\t\t\tfor(let event in events)node.addEventListener(event, events[event]);\r\n\t\t}\r\n\t\t\r\n\t\tObject.assign(node, attributes);\r\n\t\t\r\n\t\tfor(let prop in after)Object.assign(node[prop], after[prop]);\r\n\t\t\r\n\t\treturn node;\r\n\t}\r\n\tstatic wait_for(check, time){\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tvar interval,\r\n\t\t\t\trun = () => {\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tvar result = check();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(result){\r\n\t\t\t\t\t\t\tif(interval)clearInterval(interval);\r\n\t\t\t\t\t\t\tresolve(result);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}catch(err){console.log(err)}\r\n\t\t\t\t};\r\n\t\t\t\r\n\t\t\tinterval = run() || setInterval(run, time || 50);\r\n\t\t});\r\n\t}\r\n\tstatic sanitize(string){\r\n\t\tvar node = document.createElement('div');\r\n\t\t\r\n\t\tnode.textContent = string;\r\n\t\t\r\n\t\treturn node.innerHTML;\r\n\t}\r\n\tstatic unsanitize(string){\r\n\t\tvar node = document.createElement('div');\r\n\t\t\r\n\t\tnode.innerHTML = string;\r\n\t\t\r\n\t\treturn node.textContent;\r\n\t}\r\n\tstatic node_tree(nodes, parent = document){\r\n\t\tvar output = {\r\n\t\t\t\tparent: parent,\r\n\t\t\t},\r\n\t\t\tmatch_container = /^\\$\\s+>?/g,\r\n\t\t\tmatch_parent = /^\\^\\s+>?/g;\r\n\t\t\r\n\t\tfor(var label in nodes){\r\n\t\t\tvar value = nodes[label];\r\n\t\t\t\r\n\t\t\tif(value instanceof Node)output[label] = value;\r\n\t\t\telse if(typeof value == 'object')output[label] = this.node_tree(value, output.container);\r\n\t\t\telse if(match_container.test(nodes[label])){\r\n\t\t\t\tif(!output.container){\r\n\t\t\t\t\tconsole.warn('No container is available, could not access', value);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\toutput[label] = output.container.querySelector(nodes[label].replace(match_container, ''));\r\n\t\t\t}else if(match_parent.test(nodes[label])){\r\n\t\t\t\tif(!output.parent){\r\n\t\t\t\t\tconsole.warn('No parent is available, could not access', value);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\toutput[label] = output.parent.querySelector(nodes[label].replace(match_parent, ''));\r\n\t\t\t}else output[label] = parent.querySelector(nodes[label]);\r\n\t\t\t\r\n\t\t\tif(!output[label])console.warn('No node found, could not access', value);\r\n\t\t}\r\n\t\t\r\n\t\treturn output;\r\n\t}\r\n\tstatic string_key(key){\r\n\t\treturn key.replace(/^([A-Z][a-z]+?)([A-Z0-9][a-z]*?)/, (match, type, key) => ['Digit', 'Key'].includes(type) ? key : `${key} ${type}`);\r\n\t}\r\n\tstatic clone_obj(obj){\r\n\t\treturn JSON.parse(JSON.stringify(obj));\r\n\t}\r\n\tstatic assign_deep(target, ...objects){\r\n\t\tfor(let ind in objects)for(let key in objects[ind]){\r\n\t\t\tif(typeof objects[ind][key] == 'object' && objects[ind][key] != null && key in target)this.assign_deep(target[key], objects[ind][key]);\r\n\t\t\telse if(typeof target == 'object' && target != null)Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(objects[ind], key))\r\n\t\t}\r\n\t\t\r\n\t\treturn target;\r\n\t}\r\n\tstatic filter_deep(target, match){\r\n\t\tfor(let key in target){\r\n\t\t\tif(!(key in match))delete target[key];\r\n\t\t\t\r\n\t\t\tif(typeof match[key] == 'object' && match[key] != null)this.filter_deep(target[key], match[key]);\r\n\t\t}\r\n\t\t\r\n\t\treturn target;\r\n\t}\r\n\tstatic redirect(name, from, to){\r\n\t\tvar proxy = Symbol();\r\n\t\t\r\n\t\tto.addEventListener(name, event => {\r\n\t\t\tif(event[proxy])return;\r\n\t\t});\r\n\t\t\r\n\t\tfrom.addEventListener(name, event => to.dispatchEvent(Object.assign(new(event.constructor)(name, event), {\r\n\t\t\t[proxy]: true,\r\n\t\t\tstopImmediatePropagation: event.stopImmediatePropagation.bind(event),\r\n\t\t\tpreventDefault: event.preventDefault.bind(event),\r\n\t\t})));\r\n\t}\r\n\tstatic promise(){\r\n\t\tvar temp,\r\n\t\t\tpromise = new Promise((resolve, reject) => temp = { resolve, reject });\r\n\t\t\r\n\t\tObject.assign(promise, temp);\r\n\t\t\r\n\t\tpromise.resolve_in = (time = 0, data) => setTimeout(() => promise.resolve(data), time);\r\n\t\t\r\n\t\treturn promise;\r\n\t}\r\n\tstatic rtn(number, unit){\r\n\t\treturn (number / unit).toFixed() * unit;\r\n\t}\r\n};\r\n\r\nmodule.exports = Utils;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","'use strict';\r\n\r\ntry{\r\n\twindow.onbeforeunload = () => {};\r\n\tObject.defineProperty(window, 'onbeforeunload', { writable: false, value(){} })\r\n}catch(err){\r\n\t\r\n}\r\n\r\nrequire('./FilePicker');\r\n\r\nvar ExtendMenu = require('./libs/ExtendMenu'),\r\n\tKeybind = require('./libs/Keybind'),\r\n\tutils = require('./libs/Utils'),\r\n\tRPC = require('./RPC'),\r\n\t{ ipc, IM } = require('./IPC'),\r\n\t{ config: runtime_config, js } = require('./Runtime'),\r\n\tsite = require('./Site'),\r\n\trun_resources = require('./Resources');\r\n\r\nclass Menu extends ExtendMenu {\r\n\trpc = new RPC();\r\n\tsave_config(){\r\n\t\tipc.send(IM.save_config, this.config);\r\n\t}\r\n\tconfig = runtime_config;\r\n\tdefault_config = require('../../Client/Config.json');\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\t\r\n\t\tvar Client = this.category('Client');\r\n\t\t\r\n\t\tClient.control('Github', {\r\n\t\t\ttype: 'linkfunction',\r\n\t\t\tvalue(){\r\n\t\t\t\tipc.send(IM.shell_open, 'url', 'https://github.com/y9x/clientpp');\r\n\t\t\t},\r\n\t\t});\r\n\t\t\r\n\t\tClient.control('Discord', {\r\n\t\t\ttype: 'linkfunction',\r\n\t\t\tvalue(){\r\n\t\t\t\tipc.send(IM.shell_open, 'url', 'https://discord.gg/4r47ZwdSQj');\r\n\t\t\t},\r\n\t\t});\r\n\t\t\r\n\t\tvar Folder = this.category('Folders');\r\n\t\t\r\n\t\t/*Folder.control('Root', {\r\n\t\t\ttype: 'function',\r\n\t\t\ttext: 'Open',\r\n\t\t\tvalue: () => ipc.send(IM.shell_open, 'root'),\r\n\t\t});*/\r\n\t\t\r\n\t\tFolder.control('Scripts', {\r\n\t\t\ttype: 'function',\r\n\t\t\ttext: 'Open',\r\n\t\t\tvalue: () => ipc.send(IM.shell_open, 'scripts'),\r\n\t\t});\r\n\t\t\r\n\t\tFolder.control('Styles', {\r\n\t\t\ttype: 'function',\r\n\t\t\ttext: 'Open',\r\n\t\t\tvalue: () => ipc.send(IM.shell_open, 'styles'),\r\n\t\t});\r\n\t\t\r\n\t\tFolder.control('Resource Swapper', {\r\n\t\t\ttype: 'function',\r\n\t\t\ttext: 'Open',\r\n\t\t\tvalue: () => ipc.send(IM.shell_open, 'swapper'),\r\n\t\t});\r\n\t\t\r\n\t\tvar Render = this.category('Rendering');\r\n\t\t\r\n\t\tRender.control('Fullscreen', {\r\n\t\t\ttype: 'boolean',\r\n\t\t\twalk: 'client.fullscreen',\r\n\t\t}).on('change', (value, init) => !init && ipc.send(IM.fullscreen));\r\n\t\t\r\n\t\tRender.control('Uncap FPS', {\r\n\t\t\ttype: 'boolean',\r\n\t\t\twalk: 'client.uncap_fps',\r\n\t\t}).on('change', (value, init) => !init && ipc.send(IM.relaunch_webview));\r\n\t\t\r\n\t\tRender.control('VSync', {\r\n\t\t\ttype: 'boolean',\r\n\t\t\twalk: 'render.vsync',\r\n\t\t}).on('change', (value, init) => !init && ipc.send(IM.relaunch_webview));\r\n\t\t\r\n\t\tRender.control('Angle backend', {\r\n\t\t\ttype: 'dropdown',\r\n\t\t\twalk: 'render.angle',\r\n\t\t\tvalue: {\r\n\t\t\t\tDefault: 'default',\r\n\t\t\t\t// 'Legacy Direct3D 9': 'd3d9',\r\n\t\t\t\t'Direct3D 11': 'd3d11',\r\n\t\t\t\t// 'Direct3D 11 Soft raster': 'warp',\r\n\t\t\t\t'Desktop GL': 'gl',\r\n\t\t\t\t'GLES, ES2 & ES3': 'gles',\r\n\t\t\t},\r\n\t\t}).on('change', (value, init) => !init && ipc.send(IM.relaunch_webview));\r\n\t\t\r\n\t\tRender.control('Color profile', {\r\n\t\t\ttype: 'dropdown',\r\n\t\t\twalk: 'render.color',\r\n\t\t\tvalue: {\r\n\t\t\t\tDefault: 'default',\r\n\t\t\t\t'SRGB': 'srgb',\r\n\t\t\t\t'RGB': 'generic-rgb',\r\n\t\t\t},\r\n\t\t}).on('change', (value, init) => !init && ipc.send(IM.relaunch_webview));\r\n\t\t\r\n\t\tvar Game = this.category('Game');\r\n\t\t\r\n\t\tGame.control('Seek new Lobby [F4]', {\r\n\t\t\ttype: 'boolean',\r\n\t\t\twalk: 'game.f4_seek',\r\n\t\t});\r\n\t\t\r\n\t\tvar RPC = this.category('Discord RPC');\r\n\t\t\r\n\t\tRPC.control('Enabled', {\r\n\t\t\ttype: 'boolean',\r\n\t\t\twalk: 'rpc.enabled',\r\n\t\t}).on('change', (value, init) => {\r\n\t\t\tif(init)return;\r\n\t\t\tif(!value)ipc.send(IM.rpc_clear);\r\n\t\t\telse{\r\n\t\t\t\tipc.send(IM.rpc_init);\r\n\t\t\t\tthis.rpc.update(true);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tRPC.control('Show username', {\r\n\t\t\ttype: 'boolean',\r\n\t\t\twalk: 'rpc.name',\r\n\t\t}).on('change', (value, init) => !init && this.rpc.update(true));\r\n\t\t\r\n\t\tvar Window = this.category('Window');\r\n\t\t\r\n\t\tWindow.control('DevTools [F10]', {\r\n\t\t\ttype: 'boolean',\r\n\t\t\twalk: 'client.devtools',\r\n\t\t});\r\n\t\t\r\n\t\tWindow.control('Replace Icon & Title', {\r\n\t\t\ttype: 'boolean',\r\n\t\t\twalk: 'window.meta.replace',\r\n\t\t}).on('change', (value, init) => {\r\n\t\t\tif(init)return;\r\n\t\t\t\r\n\t\t\tif(value)ipc.send(IM.update_meta);\r\n\t\t\telse ipc.send(IM.revert_meta);\r\n\t\t});\r\n\t\t\r\n\t\tWindow.control('New Title', {\r\n\t\t\ttype: 'textbox',\r\n\t\t\twalk: 'window.meta.title',\r\n\t\t}).on('change', (value, init) => {\r\n\t\t\tif(!init && this.config.window.meta.replace)\r\n\t\t\t\tipc.send(IM.update_meta);\r\n\t\t});\r\n\t\t\r\n\t\tWindow.control('New Icon', {\r\n\t\t\ttype: 'filepicker',\r\n\t\t\twalk: 'window.meta.icon',\r\n\t\t\ttitle: 'Select a new Icon',\r\n\t\t\tfilters: {\r\n\t\t\t\t'Icon': '*.ico',\r\n\t\t\t\t'All types': '*.*',\r\n\t\t\t},\r\n\t\t}).on('change', (value, init) => {\r\n\t\t\tif(!init && this.config.window.meta.replace)\r\n\t\t\t\tipc.send(IM.update_meta);\r\n\t\t});\r\n\t\t\r\n\t\tthis.keybinds();\r\n\t}\r\n\tupdate(){\r\n\t\tfor(let category of this.categories)category.update(true);\r\n\t\tthis.insert('Client');\r\n\t}\r\n\tkeybinds(){\r\n\t\tnew Keybind('F4', event => {\r\n\t\t\tif(event.altKey)ipc.send(IM.close_window);\r\n\t\t\telse if(this.config.game.f4_seek)ipc.send(IM.seek_game);\r\n\t\t});\r\n\t\t\r\n\t\tnew Keybind('F10', event => {\r\n\t\t\tipc.send(IM.open_devtools);\r\n\t\t});\r\n\t\t\r\n\t\tnew Keybind('F11', () => {\r\n\t\t\tthis.config.client.fullscreen = !this.config.client.fullscreen;\r\n\t\t\tthis.save_config();\r\n\t\t\tipc.send(IM.fullscreen);\r\n\t\t});\r\n\t}\r\n};\r\n\r\n\r\n\r\nif(site == 'game'){\r\n\trequire('./Fixes');\r\n\tlet menu = new Menu();\r\n\trun_resources(menu);\r\n\tmenu.update();\r\n}else run_resources();\r\n\r\nnew Keybind('F5', event => ipc.send(IM.reload_window));"],"names":[],"sourceRoot":""}