{"version":3,"file":"Webpack.js","mappings":";;;;;;;;;;AAAa;AACb;AACA,MAAM,SAAS,EAAE,mBAAO,CAAC,mCAAW;AACpC,UAAU,mBAAO,CAAC,2CAAe;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,eAAe,IAAI;AACnB;;;;;;;;;;ACjBa;AACb;AACA,YAAY,mBAAO,CAAC,yCAAc;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;ACtCY;AACb;AACA,YAAY,mBAAO,CAAC,yCAAc;AAClC;AACA;AACA;AACA;AACA;AACA,MAAM,UAAU,EAAE,mBAAO,CAAC,mCAAW;AACrC;AACA;AACA,oDAAoD,kBAAkB;AACtE;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B,kCAAkC,EAAE,KAAK,gBAAgB,KAAK,GAAG;AACjE;AACA;AACA;AACA;AACA;AACA,EAAE;AACF,wCAAwC,KAAK;AAC7C;AACA;AACA;;;;;;;;;;ACrCa;AACb;AACA;;;;;;;;;;ACFa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACvDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,iBAAiB,QAAQ,KAAK,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACvCa;AACb;AACA,aAAa,mBAAO,CAAC,sCAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AClBa;;AAEb,YAAY,mBAAO,CAAC,oCAAS;AAC7B,WAAW,mBAAO,CAAC,wCAAW;AAC9B,UAAU,mBAAO,CAAC,sCAAU;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAC,GAAG,CAAwB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,wBAAwB,gCAAgC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,MAAM,kCAAkC,eAAe,eAAe,QAAQ;AACrI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI;AACJ;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,kDAAkD,uBAAuB;AACzE,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA,yBAAyB,kBAAkB;AAC3C;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACtMa;;AAEb,MAAM,QAAQ,EAAE,mBAAO,CAAC,6CAAU;AAClC,UAAU,mBAAO,CAAC,uCAAW;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,uBAAuB;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oFAAoF;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA,qDAAqD,kBAAkB;AACvE;AACA;AACA;AACA,uCAAuC,qBAAqB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wDAAwD,yBAAyB;AACjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY,sBAAsB;AAClC,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACjRa;;AAEb,MAAM,QAAQ,EAAE,mBAAO,CAAC,8CAAW;AACnC,WAAW,mBAAO,CAAC,gDAAY;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,6DAA6D,yCAAyC;AACtG;AACA,wCAAwC,kBAAkB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;AC5Ea;;AAEb,YAAY,mBAAO,CAAC,qCAAU;AAC9B;;AAEA,aAAa;;AAEb,YAAY;AACZ;AACA;AACA,EAAE;AACF,CAAC;;AAED,cAAc;AACd;AACA;AACA,EAAE;AACF,CAAC;;;;;;;;;;ACjBY;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;AC/Fa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,4BAA4B;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,WAAW;AACjB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0HAA0H,KAAK,EAAE,KAAK;AACtI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,uDAAuD,iBAAiB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACvKa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,4BAA4B;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,WAAW;AACjB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0HAA0H,KAAK,EAAE,KAAK;AACtI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,uDAAuD,iBAAiB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;UCvKA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;;ACtBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,CAAC;AACD;AACA;AACA,mBAAO,CAAC,mCAAW;AACnB,mBAAO,CAAC,uCAAa;AACrB,mBAAO,CAAC,qCAAY;AACpB;AACA,gBAAgB,mBAAO,CAAC,iDAAkB;AAC1C,YAAY,mBAAO,CAAC,2EAA+B;AACnD,OAAO,mBAAO,CAAC,qCAAY;AAC3B,SAAS,mBAAO,CAAC,yCAAc;AAC/B,UAAU,mBAAO,CAAC,2CAAe;AACjC;AACA;AACA;AACA,8CAA8C,MAAM;AACpD;AACA;AACA;AACA,UAAU,+DAA2B;AACrC,kBAAkB,mBAAO,CAAC,uDAA0B;AACpD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gCAAgC;AACvD;AACA;AACA;AACA;AACA;AACA,W","sources":["webpack://Guru Client++ Webpacker/./src/FastLoad.js","webpack://Guru Client++ Webpacker/./src/FixLoad.js","webpack://Guru Client++ Webpacker/./src/Resources.js","webpack://Guru Client++ Webpacker/./src/Runtime.js","webpack://Guru Client++ Webpacker/./src/libs/Events.js","webpack://Guru Client++ Webpacker/./src/libs/HTMLProxy.js","webpack://Guru Client++ Webpacker/./src/libs/IPC.js","webpack://Guru Client++ Webpacker/./src/libs/Loader.js","webpack://Guru Client++ Webpacker/./src/libs/MenuUI/Control.js","webpack://Guru Client++ Webpacker/./src/libs/MenuUI/Window/Category.js","webpack://Guru Client++ Webpacker/./src/libs/MenuUI/consts.js","webpack://Guru Client++ Webpacker/./src/libs/Request.js","webpack://Guru Client++ Webpacker/./src/libs/Utils.js","webpack://Guru Client++ Webpacker/./src/libs/utils.js","webpack://Guru Client++ Webpacker/webpack/bootstrap","webpack://Guru Client++ Webpacker/./src/index.js"],"sourcesContent":["'use strict';\r\n\r\nvar { config } = require('./Runtime'),\r\n\tLoader = require('./libs/Loader');;\r\n\r\nif(config.game.fast_load){\r\n\tlet loader = new Loader();\r\n\t\r\n\tloader.observe();\r\n\t\r\n\tloader.license({\r\n\t\tgithub: 'https://github.com/y9x/',\r\n\t\tdiscord: 'https://y9x.github.io/discord/',\r\n\t\tforum: 'https://forum.sys32.dev/',\r\n\t});\r\n\t\r\n\tloader.load({}, {});\r\n}","'use strict';\r\n\r\nvar Utils = require('./libs/Utils'),\r\n\tutils = new Utils();\r\n\r\n(async () => {\t\r\n\tvar ui_base = await utils.wait_for(() => document.querySelector('#uiBase')),\r\n\t\tMIN_WIDTH = 1700,\r\n\t\tMIN_HEIGHT = 900;\r\n\t\t\r\n\tif(localStorage?.kro_setngss_uiScaling === 'false')return;\r\n\t\r\n\tvar ls = localStorage.kro_setngss_scaleUI,\r\n\t\tscale_ui = ls != void[] ? ls : 0.7;\r\n\t\r\n\tscale_ui = Math.min(1, Math.max(0.1, Number(scale_ui)));\r\n\tscale_ui = 1 + (1 - scale_ui);\r\n\t\r\n\tvar height = window.innerHeight,\r\n\t\twidth = window.innerWidth,\r\n\t\tmin_width = MIN_WIDTH * scale_ui,\r\n\t\tmin_height = MIN_HEIGHT * scale_ui,\r\n\t\twidth_scale = width / min_width,\r\n\t\theight_scale = height / min_height,\r\n\t\telm = document.getElementById('uiBase'),\r\n\t\tstyle = height_scale < width_scale ? {\r\n\t\t\ttransform: height_scale,\r\n\t\t\twidth: width / height_scale,\r\n\t\t\theight: min_height,\r\n\t\t} : {\r\n\t\t\ttransform: width_scale,\r\n\t\t\twidth: min_width,\r\n\t\t\theight: height / width_scale,\r\n\t\t};\r\n\t\r\n\tui_base.style.transform = 'scale(' + style.transform.toFixed(3) + ')';\r\n\tui_base.style.width = style.width.toFixed(3) + 'px';\r\n\tui_base.style.height = style.height.toFixed(3) + 'px';\r\n})();","'use strict';\r\n\r\nvar Utils = require('./libs/Utils'),\r\n\tutils = new Utils();\r\n\r\n// wait for krunker css\r\n// utils.wait_for(() => document.querySelector(`link[href*='/css/main_custom.css']`))\r\n\r\nvar { css, js } = require('./Runtime');\r\n\r\nfor(let [ name, data ] of Object.entries(css)){\r\n\tlet url = URL.createObjectURL(new Blob([ data ], { type: 'text/css' }));\r\n\t\r\n\tlet link = document.head.appendChild(Object.assign(document.createElement('link'), {\r\n\t\trel: 'stylesheet',\r\n\t\thref: url,\r\n\t}));\r\n\r\n\tlink.addEventListener('load', () => {\r\n\t\tURL.revokeObjectURL(url);\r\n\t});\r\n\t\r\n\tdocument.head.appendChild(link);\r\n}\r\n\r\nfor(let [ name, data ] of Object.entries(js)){\r\n\tlet module = { exports: {} },\r\n\t\tev = `(function(module,exports){${data}//# sourceURL=${name}\\n})`;\r\n\t\r\n\t// console.log(ev);\r\n\r\n\ttry{\r\n\t\teval(ev)(module, module.exports);\r\n\t}catch(err){\r\n\t\tconsole.error(`Error loading script ${name}:\\n`, err);\r\n\t\t// todo: postMessage write to logs.txt in client folder\r\n\t}\r\n}","'use strict';\r\n\r\nmodule.exports = _RUNTIME_DATA_;","'use strict';\r\n\r\nclass Events {\r\n\tstatic original = Symbol();\r\n\t#events = new Map();\r\n\t#resolve(target, event){\r\n\t\tvar callbacks = this.#events.get(event);\r\n\t\t\r\n\t\tif(!callbacks){\r\n\t\t\tcallbacks = new Set();\r\n\t\t\tthis.#events.set(event, callbacks);\r\n\t\t}\r\n\t\t\r\n\t\treturn callbacks;\r\n\t};\r\n\ton(event, callback){\r\n\t\tif(typeof callback != 'function')throw new TypeError('Callback is not a function.');\r\n\t\t\r\n\t\tthis.#resolve(event).add(callback);\r\n\t}\r\n\tonce(event, callback){\r\n\t\tvar cb = function(...data){\r\n\t\t\tthis.off(event, callback);\r\n\t\t\tcallback.call(this, ...data);\r\n\t\t};\r\n\t\t\r\n\t\tcallback[Events.original] = cb;\r\n\t\t\r\n\t\treturn this.on(event, cb);\r\n\t}\r\n\toff(event, callback){\r\n\t\tif(typeof callback != 'function')throw new TypeError('Callback is not a function.');\r\n\t\t\r\n\t\tif(callback[Events.original])callback = callback[Events.original];\r\n\t\t\r\n\t\tvar list = this.#resolve(event);\r\n\t\t\r\n\t\treturn list.delete(callback);\r\n\t}\r\n\temit(event, ...data){\r\n\t\tvar set = this.#resolve(event);\r\n\t\t\r\n\t\tif(!set.size){\r\n\t\t\tif(event == 'error')throw data[0];\r\n\t\t\treturn false;\r\n\t\t}else for(let item of set)try{\r\n\t\t\titem.call(this, ...data);\r\n\t\t}catch(err){\r\n\t\t\tthis.emit('error', err);\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n};\r\n\r\nmodule.exports = Events;","'use strict';\r\n\r\nvar log = console.log;\r\n\r\nclass HTMLProxy {\r\n\tchildren = [];\r\n\tappendChild(node){\r\n\t\tthis.append(node);\r\n\t\treturn node;\r\n\t}\r\n\tappend(node){\r\n\t\tthis.children.push(node);\r\n\t}\r\n\tconstructor(){\r\n\t\tthis.id = 'a-' + Math.random().toString().slice(2);\r\n\t\t\r\n\t\tvar children = this.children;\r\n\t\t\r\n\t\tcustomElements.define(this.id, class extends HTMLElement {\r\n\t\t\tconnectedCallback(){\r\n\t\t\t\tfor(let node of children)this.parentNode.insertBefore(node, this);\r\n\t\t\t\tthis.remove();\r\n\t\t\t\t\r\n\t\t\t\t// log(node.children[this.id], this.id, node.children, node);\r\n\t\t\t\t// this.replaceWith(node.children[this.id]);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tget(){\r\n\t\tvar html = `<${this.id}></${this.id}>`;\r\n\t\t\r\n\t\t// html += '<!-- ';\r\n\t\t// for(let node of this.children)html += node.outerHTML.replace(/-->/g, '->');\r\n\t\t// html += '-->';\r\n\t\t\r\n\t\treturn html;\r\n\t}\r\n};\r\n\r\nmodule.exports = HTMLProxy;","'use strict';\r\n\r\nvar Events = require('./Events');\r\n\r\nclass IPC extends Events {\r\n\t#send\r\n\tconstructor(send){\r\n\t\tsuper();\r\n\t\t\r\n\t\tif(typeof send != 'function')throw new TypeError('Invalid send function');\r\n\t\tthis.#send = send;\r\n\t}\r\n\tsend(event, ...data){\r\n\t\tthis.#send(event, ...data);\r\n\t\treturn true;\r\n\t}\r\n};\r\n\r\nmodule.exports = IPC;","'use strict';\n\nvar Utils = require('./Utils'),\n\tRequest = require('./Request'),\n\tEvents = require('./Events'),\n\tutils = new Utils();\n\nclass Loader extends Events {\n\tgconsts = {\n\t\tplayerHeight: 11,\n\t\tcameraHeight: 1.5,\n\t\theadScale: 2,\n\t\tarmScale: 1.3,\n\t\tarmInset: 0.1,\n\t\tchestWidth: 2.6,\n\t\thitBoxPad: 1,\n\t\tcrouchDst: 3,\n\t\trecoilMlt: 0.3,\n\t\tnameOffset: 0.6,\n\t\tnameOffsetHat: 0.8,\n\t};\n\tapi = 0 ? 'http://127.0.0.1:7300/' : 'https://api.sys32.dev/';\n\tmatchmaker = 'https://matchmaker.krunker.io/';\n\tbadge = '[GameLoader]';\n\t\t// outcome of above maps\n\tvars = {};\n\tcontext = {\n\t\tkey: '_' + Math.random().toString().substr(2),\n\t};\n\thas_instruct = this.has_instruct.bind(this);\n\tstacks = new Set();\n\tapi_v2 = new URL('v2/', this.api);\n\t\n\tmeta = utils.promise();\n\tpatches = new Map();\n\tvariables = new Map();\n\tlog(...text){\n\t\tconsole.log(this.badge, ...text);\n\t}\n\tvar(label, regex, index){\n\t\treturn this.variables.set(label, [ regex, index ]), this;\n\t}\n\tpatch(label, regex, replacement){\n\t\treturn this.patches.set(label, [ regex, replacement ]), this;\n\t}\n\tobserve(){\n\t\tthis.loadp = new Promise(resolve => new MutationObserver((muts, observer) => muts.forEach(mut => [...mut.addedNodes].forEach(node => {\n\t\t\tif(node.tagName == 'DIV' && node.id == 'instructionHolder'){\n\t\t\t\tthis.instruction_holder = node;\n\t\t\t\t\n\t\t\t\tnew MutationObserver(() => setTimeout(() => this.emit('instruct', this.has_instruct), 200)).observe(this.instruction_holder, {\n\t\t\t\t\tattributes: true,\n\t\t\t\t\tattributeFilter: [ 'style' ],\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tif(node.tagName == 'SCRIPT' && node.textContent.includes('Yendis Entertainment')){\n\t\t\t\tnode.textContent = '';\n\t\t\t\tresolve();\n\t\t\t}\n\t\t}))).observe(document, { childList: true, subtree: true }));\n\t}\n\thas_instruct(...test){\n\t\tif(!this.instruction_holder)return false\n\t\tvar instruction = this.instruction_holder.textContent.trim().toLowerCase();\n\t\tfor(let string of test)if(instruction.includes(test))return true;\n\t\treturn false;\n\t}\n\tasync report_error(where, err){\n\t\tif(typeof err != 'object')return;\n\t\t\n\t\tvar body = {\n\t\t\tname: err.name,\n\t\t\tmessage: err.message,\n\t\t\tstack: err.stack,\n\t\t\twhere: where,\n\t\t};\n\t\t\n\t\tif(this.stacks.has(err.stack))return;\n\t\t\n\t\tconsole.error('Where:', where, '\\nUncaught', err);\n\t\t\n\t\tthis.stacks.add(err.stack);\n\t\t\n\t\tawait Request({\n\t\t\ttarget: this.api_v2,\n\t\t\tendpoint: 'error',\n\t\t\tdata: body,\n\t\t});\n\t}\n\tasync show_error(title, message){\n\t\tawait this.load;\n\t\t\n\t\tvar holder = document.querySelector('#instructionHolder'),\n\t\t\tinstructions = document.querySelector('#instructions');\n\t\t\n\t\tholder.style.display = 'block';\n\t\tholder.style.pointerEvents = 'all';\n\t\t\n\t\tinstructions.innerHTML = `<div style='color:#FFF9'>${title}</div><div style='margin-top:10px;font-size:20px;color:#FFF6'>${message}</div>`;\n\t}\n\tasync token(){\n\t\tawait this.meta;\n\t\t\n\t\treturn await Request({\n\t\t\ttarget: this.api_v2,\n\t\t\tendpoint: 'token',\n\t\t\tdata: await Request({\n\t\t\t\ttarget: this.matchmaker,\n\t\t\t\tendpoint: 'generate-token',\n\t\t\t\theaders: {\n\t\t\t\t\t'client-key': this.meta.key,\n\t\t\t\t},\n\t\t\t\tresult: 'json',\n\t\t\t}),\n\t\t\tresult: 'json',\n\t\t});\n\t}\n\tapply_patches(source){\n\t\tvar missing;\n\t\t\n\t\tfor(var [ label, [ regex, index ] ] of this.variables){\n\t\t\tvar value = (source.match(regex) || 0)[index];\n\t\t\t\n\t\t\tif(value)this.vars[label] = value;\n\t\t\telse (missing || (missing = {}))[label] = [ regex, index ];\n\t\t}\n\t\t\n\t\tconsole.log('Game Variables:');\n\t\tconsole.table(this.vars);\n\t\t\n\t\tif(missing){\n\t\t\tconsole.log('Missing:');\n\t\t\tconsole.table(missing);\n\t\t}\n\t\t\n\t\tfor(var [ label, [ input, replacement ] ] of this.patches){\n\t\t\tif(!source.match(input))console.error('Could not patch', label);\n\t\t\t\n\t\t\tsource = source.replace(input, replacement);\n\t\t}\n\t\t\n\t\treturn source;\n\t}\n\tasync license(input_meta){\n\t\tvar meta = await Request({\n\t\t\ttarget: this.api_v2,\n\t\t\tendpoint: 'meta',\n\t\t\tdata: {\n\t\t\t\t...input_meta,\n\t\t\t\tneeds_key: true,\n\t\t\t},\n\t\t\tmethod: 'POST',\n\t\t\tresult: 'json',\n\t\t});\n\t\t\n\t\tif(meta.error){\n\t\t\tutils.add_ele('style', document.documentElement, {\n\t\t\t\ttextContent: '#initLoader,#instructionsUpdate{display:none!IMPORTANT}',\n\t\t\t});\n\t\t\t\n\t\t\tthis.show_error(meta.error.title, meta.error.message);\n\t\t\tthis.meta.reject();\n\t\t}else this.meta.resolve(this.meta = meta);\n\t}\n\tasync source(){\n\t\tawait this.meta;\n\t\t\n\t\treturn await Request({\n\t\t\ttarget: this.api_v2,\n\t\t\tendpoint: 'source',\n\t\t\tquery: {\n\t\t\t\tbuild: this.meta.build,\n\t\t\t},\n\t\t\tresult: 'text',\n\t\t\tcache: true,\n\t\t});\n\t}\n\tasync load(add_args = {}, add_context = {}){\n\t\tvar args = {\n\t\t\t\t...add_args,\n\t\t\t\t[this.context.key]: this.context,\n\t\t\t\tWP_fetchMMToken: this.token(),\n\t\t\t},\n\t\t\tsource = this.apply_patches(await this.source());\n\t\t\n\t\tObject.assign(this.context, add_context);\n\t\t\n\t\ttry{\n\t\t\tawait this.loadp;\n\t\t\tnew Function(...Object.keys(args), source)(...Object.values(args));\n\t\t}catch(err){\n\t\t\tthis.report_error('loading', err);\n\t\t\tthis.show_error(err.message, `Post a screenshot of this error on <a href='https://forum.sys32.dev/'>the forums</a> or <a href='/'>click here</a> to try again.`);\n\t\t}\n\t}\n};\n\nmodule.exports = Loader;","'use strict';\n\nvar { utils } = require('./consts'),\n\tEvents = require('../Events');\n\nclass Control extends Events {\n\tconstructor(name, data, category){\n\t\tsuper();\n\t\t\n\t\tthis.data = data;\n\t\tthis.name = name;\n\t\tthis.category = category;\n\t\tthis.menu = this.category.tab.window.menu;\n\t\t\n\t\tthis.content = utils.add_ele('div', this.category.content, { className: 'settName' });\n\t\tthis.label = utils.add_ele('text', this.content);\n\t\t\n\t\tthis.create();\n\t\t\n\t\tthis.menu.emit('control', this);\n\t}\n\tlabel_text(text){\n\t\tthis.label.nodeValue = text;\n\t}\n\tremove(){\n\t\tthis.content.remove();\n\t}\n\twalk(data){\n\t\tvar state = this.menu.config,\n\t\t\tlast_state,\n\t\t\tlast_key;\n\t\t\n\t\tdata.split('.').forEach(key => state = ((last_state = state)[last_key = key] || {}));\n\t\t\n\t\treturn [ last_state, last_key ];\n\t}\n\tget value(){\n\t\tif(typeof this.data.value == 'function')return this.data.value;\n\t\t\n\t\tvar walked = this.walk(this.data.walk);\n\t\t\n\t\treturn walked[0][walked[1]];\n\t}\n\tset value(value){\n\t\tvar walked = this.walk(this.data.walk);\n\t\t\n\t\twalked[0][walked[1]] = value;\n\t\t\n\t\tthis.menu.save_config();\n\t\t\n\t\tthis.emit('change', value);\n\t\t\n\t\treturn value;\n\t}\n\tcreate(){}\n\tinteract(){\n\t\tconsole.warn('No defined interaction for', this);\n\t}\n\tupdate(init){\n\t\t// MAKE CHANGE EMIT CALLED FROM THE CATEGORY\n\t\tif(init)this.emit('change', this.value, true);\n\t\tthis.label_text(this.name);\n\t}\n\tshow_content(){\n\t\tthis.content.style.display = 'block';\n\t}\n\thide_content(){\n\t\tthis.content.style.display = 'none';\n\t}\n};\n\nclass BooleanControl extends Control {\n\tstatic id = 'boolean';\n\tcreate(){\n\t\tthis.switch = utils.add_ele('label', this.content, {\n\t\t\tclassName: 'switch',\n\t\t\ttextContent: 'Run',\n\t\t\tstyle: {\n\t\t\t\t'margin-left': '10px',\n\t\t\t},\n\t\t});\n\t\t\n\t\tthis.input = utils.add_ele('input', this.switch, { type: 'checkbox' });\n\t\t\n\t\tthis.input.addEventListener('change', () => this.value = this.input.checked);\n\t\t\n\t\tutils.add_ele('span', this.switch, { className: 'slider' });\n\t}\n\tupdate(init){\n\t\tsuper.update(init);\n\t\tif(init)this.input.checked = this.value;\n\t\tthis.label_text(this.name);\n\t}\n}\n\nclass SelectControl extends Control {\n\tstatic id = 'select';\n\tcreate(){\n\t\tthis.select = utils.add_ele('select', this.content, { className: 'inputGrey2' });\n\t\t\n\t\tthis.select.addEventListener('change', () => this.value = this.select.value);\n\t\t\n\t\tfor(let value in this.data.value)utils.add_ele('option', this.select, {\n\t\t\tvalue: value,\n\t\t\ttextContent: this.data.value[value],\n\t\t});\n\t}\n\tupdate(init){\n\t\tsuper.update(init);\n\t\t\n\t\tif(init)this.select.value = this.value;\n\t}\n};\n\nclass LinkControl extends Control {\n\tstatic id = 'link';\n\tcreate(){\n\t\tthis.link = utils.add_ele('a', this.content, {\n\t\t\tclassName: 'settingsBtn',\n\t\t\ttextContent: 'Run',\n\t\t});\n\t}\n\tupdate(init){\n\t\tthis.link.textContent = this.value;\n\t}\n};\n\nclass FunctionControl extends Control {\n\tstatic id = 'function';\n\tcreate(){\n\t\tutils.add_ele('div', this.content, {\n\t\t\tclassName: 'settingsBtn',\n\t\t\ttextContent: this.data.button || 'Run',\n\t\t}).addEventListener('click', () => this.interact());\n\t}\n\tinteract(){\n\t\tthis.value();\n\t}\n};\n\nclass KeybindControl extends Control {\n\tstatic id = 'keybind';\n\tcreate(){\n\t\tthis.input = utils.add_ele('input', this.content, {\n\t\t\tclassName: 'inputGrey2',\n\t\t\tplaceholder: 'Press a key',\n\t\t\tstyle: {\n\t\t\t\tdisplay: 'inline-block',\n\t\t\t\twidth: '220px',\n\t\t\t},\n\t\t});\n\t\t\n\t\tthis.input.addEventListener('focus', () => {\n\t\t\tthis.input.value = '';\n\t\t});\n\t\t\n\t\tthis.input.addEventListener('keydown', event => {\n\t\t\tevent.preventDefault();\n\t\t\tthis.value = event.code == 'Escape' ? null : event.code;\n\t\t\tthis.input.blur();\n\t\t});\n\n\t\tthis.input.addEventListener('blur', () => {\n\t\t\tthis.category.update();\n\t\t\tthis.update();\n\t\t});\n\t}\n\tupdate(init){\n\t\tsuper.update(init);\n\t\t\n\t\tthis.input.value = utils.string_key(this.value);\n\t}\n};\n\nclass TextBoxControl extends Control {\n\tstatic id = 'textbox';\n\tcreate(){\n\t\tthis.input = utils.add_ele('input', this.content, {\n\t\t\tclassName: 'inputGrey2',\n\t\t\tplaceholder: this.data.placeholder || '',\n\t\t\tstyle: {\n\t\t\t\tdisplay: 'inline-block',\n\t\t\t\twidth: '220px',\n\t\t\t},\n\t\t});\n\t\t\n\t\tthis.input.addEventListener('change', () => this.value = this.input.value);\n\t}\n\tupdate(init){\n\t\tsuper.update(init);\n\t\t\n\t\tif(init)this.input.value = this.value;\n\t}\n};\n\nclass SliderControl extends Control {\n\tstatic id = 'slider';\n\tcreate(){\n\t\tvar slider = {\n\t\t\tmin: this.data.min,\n\t\t\tmax: this.data.max,\n\t\t\tstep: this.data.step,\n\t\t};\n\t\t\n\t\tthis.input = utils.add_ele('input', this.content, {\n\t\t\tclassName: 'sliderVal',\n\t\t\ttype: 'number',\n\t\t\t...slider,\n\t\t});\n\t\t\n\t\tthis.slider = utils.add_ele('input', utils.add_ele('div', this.content, {\n\t\t\tclassName: 'slidecontainer',\n\t\t\tstyle: { 'margin-top': '-8px' },\n\t\t}), {\n\t\t\tclassName: 'sliderM',\n\t\t\ttype: 'range',\n\t\t\t...slider,\n\t\t});\n\t\t\n\t\tthis.input.addEventListener('focus', () => (this.input_focused = true, this.interact()));\n\t\tthis.input.addEventListener('blur', () => (this.input_focused = false, this.interact()));\n\t\t\n\t\tthis.slider.addEventListener('input', () => this.interact(this.value = this.slider.value));\n\t\tthis.input.addEventListener('input', () => this.interact(this.value = +this.input.value));\n\t}\n\tinteract(){\n\t\tvar label = !this.input_focused && this.data.labels && this.data.labels[this.value] || this.value;\n\t\t\n\t\tthis.input.type = typeof label == 'string' ? 'text' : 'number';\n\t\t\n\t\tthis.input.value = label;\n\t\t\n\t\tthis.slider.value = this.value;\n\t}\n\tupdate(init){\n\t\tsuper.update(init);\n\t\t\n\t\tthis.interact();\n\t}\n};\n\nclass ColorControl extends Control {\n\tstatic id = 'color';\n\tcreate(){\n\t\tthis.input = utils.add_ele('input', this.content, {\n\t\t\tname: 'color',\n\t\t\ttype: 'color',\n\t\t\tstyle: {\n\t\t\t\tfloat: 'right',\n\t\t\t},\n\t\t});\n\t\t\n\t\tthis.input.addEventListener('change', () => this.value = this.input.value);\n\t}\n\tupdate(init){\n\t\tsuper.update(init);\n\t\t\n\t\tif(init)this.input.value = this.value;\n\t}\n};\n\nControl.Types = [\n\tKeybindControl,\n\tSelectControl,\n\tBooleanControl,\n\tFunctionControl,\n\tLinkControl,\n\tTextBoxControl,\n\tSliderControl,\n\tColorControl,\n\tLinkControl,\n];\n\nmodule.exports = Control;","'use strict';\n\nvar { utils } = require('../consts'),\n\tControl = require('../Control');\n\nclass Category {\n\tconstructor(tab, label){\n\t\tthis.tab = tab;\n\t\t\n\t\tthis.controls = new Set();\n\t\t\n\t\tif(label){\n\t\t\tthis.header = utils.add_ele('div', this.tab.content, {\n\t\t\t\tclassName: 'setHed',\n\t\t\t});\n\t\t\t\n\t\t\tthis.header_status = utils.add_ele('span', this.header, { className: 'material-icons plusOrMinus' });\n\t\t\t\n\t\t\tutils.add_ele('text', this.header, { nodeValue: label });\n\t\t\t\n\t\t\tthis.header.addEventListener('click', () => this.toggle());\n\t\t}\n\t\t\n\t\tthis.content = utils.add_ele('div', this.tab.content, {\n\t\t\tclassName: 'setBodH',\n\t\t});\n\t\t\n\t\tif(label)this.expand();\n\t}\n\ttoggle(){\n\t\tif(this.collapsed)this.expand();\n\t\telse this.collapse();\n\t}\n\tcollapse(){\n\t\tthis.collapsed = true;\n\t\tthis.update();\n\t}\n\texpand(){\n\t\tthis.collapsed = false;\n\t\tthis.update();\n\t}\n\tupdate(init){\n\t\tthis.content.style.display = this.collapsed ? 'none' : 'block';\n\t\t\n\t\tif(this.header){\n\t\t\tthis.header.style.display = 'block';\n\t\t\tthis.header_status.textContent = 'keyboard_arrow_' + (this.collapsed ? 'right' : 'down');\n\t\t}\n\t\t\n\t\tfor(let control of this.controls)control.update(init);\n\t}\n\tshow(){\n\t\tthis.expand();\n\t\tif(this.header)this.header.style.display = 'block';\n\t}\n\thide(){\n\t\tthis.content.style.display = 'none';\n\t\tif(this.header)this.header.style.display = 'none';\n\t}\n\tfix(){\n\t\tthis.update();\n\t\tfor(let control of this.controls)control.show_content();\n\t}\n\tcontrol(name, data){\n\t\tfor(let type of Control.Types)if(type.id == data.type){\n\t\t\tlet control = new type(name, data, this);\n\t\t\t\n\t\t\tthis.controls.add(control);\n\t\t\t\n\t\t\treturn control;\n\t\t}\n\t\t\n\t\tthrow new TypeError('Unknown type: ' + data.type);\n\t}\n};\n\nmodule.exports = Category;","'use strict';\n\nvar Utils = require('../utils'),\n\tutils = new Utils();\n\nexports.utils = utils;\n\nexports.tick = node => node.addEventListener('mouseenter', () => {\n\ttry{\n\t\tplayTick();\n\t}catch(err){}\n});\n\nexports.select = node => node.addEventListener('click', () => {\n\ttry{\n\t\tSOUND.play('select_0', 0.1);\n\t}catch(err){}\n});","'use strict';\n\nvar is_obj = data => typeof data == 'object' && data != null,\n\tis_url = data => typeof data == 'string' || data instanceof Location || data instanceof URL,\n\theaders_obj = headers => {\n\t\tif(!is_obj(headers))return {};\n\t\telse if(headers instanceof Headers){\n\t\t\tlet out = {};\n\t\t\t\n\t\t\tfor(let [ key, value ] of headers)out[key] = value;\n\t\t\t\n\t\t\treturn out;\n\t\t}else return headers;\n\t};\n\nvar request = input => {\n\tif(!is_obj(input))throw new TypeError('Input must be an object');\n\t\n\tvar opts = {\n\t\t\tcache: 'no-cache',\n\t\t\theaders: headers_obj(input.headers),\n\t\t},\n\t\turl = request.resolve(input);\n\t\n\tswitch(input.cache){\n\t\tcase true:\n\t\t\topts.cache = 'force-cache';\n\t\t\tbreak;\n\t\tcase'query':\t\n\t\t\turl.search += '?' + Date.now();\n\t\t\tbreak;\n\t}\n\tif(input.cache == true)opts.cache = 'force-cache';\n\t\n\tif(is_obj(input.data)){\n\t\topts.method = 'POST';\n\t\topts.body = JSON.stringify(input.data);\n\t\topts.headers['content-type'] = 'application/json';\n\t}\n\t\n\tif(typeof input.method == 'string')opts.method = input.method;\n\t\n\tif(input.sync){\n\t\topts.xhr = true;\n\t\topts.synchronous = true;\n\t}\n\t\n\tvar result = ['text', 'json', 'arrayBuffer'].includes(input.result) ? input.result : 'text';\n\t\n\treturn (opts.xhr ? request.fetch_xhr : window.fetch.bind(window))(url, opts).then(res => res[result]());\n};\n\n// request.fetch = window.fetch.bind(window);\n\nrequest.fetch_xhr = (url, opts = {}) => {\n\tif(!is_url(url))throw new TypeError('url param is not resolvable');\n\t\n\tvar url = new URL(url, location).href,\n\t\tmethod = typeof opts.method == 'string' ? opts.method : 'GET';\n\t\n\t// if(opts.cache == 'no-cache')url += '?' + Date.now();\n\t\n\tvar req = new XMLHttpRequest();\n\t\n\treq.open(method, url, !opts.synchronous);\n\t\n\treturn new Promise((resolve, reject) => {\n\t\treq.addEventListener('load', () => resolve({\n\t\t\tasync text(){\n\t\t\t\treturn req.responseText;\n\t\t\t},\n\t\t\tasync json(){\n\t\t\t\treturn JSON.parse(req.responseText);\n\t\t\t},\n\t\t\theaders: new Headers(),\n\t\t}));\n\t\t\n\t\treq.addEventListener('error', event => reject(event.error));\n\t\t\n\t\treq.send(opts.body);\n\t});\n};\n\nrequest.resolve = input => {\n\tif(!is_url(input.target))throw new TypeError('Target must be specified');\n\t\n\tvar url = new URL(input.target);\n\t\n\tif(is_url(input.endpoint))url = new URL(input.endpoint, url);\n\t\n\tif(typeof input.query == 'object' && input.query != null)url.search = '?' + new URLSearchParams(Object.entries(input.query));\n\t\n\treturn url;\n};\n\nmodule.exports = request;","'use strict';\n\nclass Utils {\n\tis_host(url, ...hosts){\n\t\treturn hosts.some(host => url.hostname == host || url.hostname.endsWith('.' + host));\n\t}\n\tround(n, r){\n\t\treturn Math.round(n * Math.pow(10, r)) / Math.pow(10, r);\n\t}\n\tadd_ele(node_name, parent, attributes = {}){\n\t\tvar crt = this.crt_ele(node_name, attributes);\n\t\t\n\t\tif(typeof parent == 'function')this.wait_for(parent).then(data => data.append(crt));\n\t\telse if(typeof parent == 'object' && parent != null && parent.append)parent.append(crt);\n\t\telse throw new Error('Parent is not resolvable to a DOM element');\n\t\t\n\t\treturn crt;\n\t}\n\tcrt_ele(node_name, attributes = {}){\n\t\tvar after = {};\n\t\t\n\t\tfor(let prop in attributes)if(typeof attributes[prop] == 'object' && attributes[prop] != null)after[prop] = attributes[prop], delete attributes[prop];\n\t\n\t\tvar node;\n\t\t\n\t\tif(node_name == 'raw')node = this.crt_ele('div', { innerHTML: attributes.html }).firstChild;\n\t\telse if(node_name == 'text')node = document.createTextNode('');\n\t\telse node = document.createElement(node_name);\n\t\t\n\t\tvar cls = attributes.className;\n\t\t\n\t\tif(cls){\n\t\t\tdelete attributes.className;\n\t\t\tnode.setAttribute('class', cls);\n\t\t}\n\t\t\n\t\tvar events = after.events;\n\t\t\n\t\tif(events){\n\t\t\tdelete after.events;\n\t\t\t\n\t\t\tfor(let event in events)node.addEventListener(event, events[event]);\n\t\t}\n\t\t\n\t\tObject.assign(node, attributes);\n\t\t\n\t\tfor(let prop in after)Object.assign(node[prop], after[prop]);\n\t\t\n\t\treturn node;\n\t}\n\twait_for(check, time){\n\t\treturn new Promise(resolve => {\n\t\t\tvar interval,\n\t\t\t\trun = () => {\n\t\t\t\t\ttry{\n\t\t\t\t\t\tvar result = check();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(result){\n\t\t\t\t\t\t\tif(interval)clearInterval(interval);\n\t\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}catch(err){console.log(err)}\n\t\t\t\t};\n\t\t\t\n\t\t\tinterval = run() || setInterval(run, time || 50);\n\t\t});\n\t}\n\tsanitize(string){\n\t\tvar node = document.createElement('div');\n\t\t\n\t\tnode.textContent = string;\n\t\t\n\t\treturn node.innerHTML;\n\t}\n\tunsanitize(string){\n\t\tvar node = document.createElement('div');\n\t\t\n\t\tnode.innerHTML = string;\n\t\t\n\t\treturn node.textContent;\n\t}\n\tnode_tree(nodes, parent = document){\n\t\tvar output = {\n\t\t\t\tparent: parent,\n\t\t\t},\n\t\t\tmatch_container = /^\\$\\s+>?/g,\n\t\t\tmatch_parent = /^\\^\\s+>?/g;\n\t\t\n\t\tfor(var label in nodes){\n\t\t\tvar value = nodes[label];\n\t\t\t\n\t\t\tif(value instanceof Node)output[label] = value;\n\t\t\telse if(typeof value == 'object')output[label] = this.node_tree(value, output.container);\n\t\t\telse if(match_container.test(nodes[label])){\n\t\t\t\tif(!output.container){\n\t\t\t\t\tconsole.warn('No container is available, could not access', value);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\toutput[label] = output.container.querySelector(nodes[label].replace(match_container, ''));\n\t\t\t}else if(match_parent.test(nodes[label])){\n\t\t\t\tif(!output.parent){\n\t\t\t\t\tconsole.warn('No parent is available, could not access', value);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\toutput[label] = output.parent.querySelector(nodes[label].replace(match_parent, ''));\n\t\t\t}else output[label] = parent.querySelector(nodes[label]);\n\t\t\t\n\t\t\tif(!output[label])console.warn('No node found, could not access', value);\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\tstring_key(key){\n\t\treturn key.replace(/^([A-Z][a-z]+?)([A-Z0-9][a-z]*?)/, (match, type, key) => ['Digit', 'Key'].includes(type) ? key : `${key} ${type}`);\n\t}\n\tclone_obj(obj){\n\t\treturn JSON.parse(JSON.stringify(obj));\n\t}\n\tassign_deep(target, ...objects){\n\t\tfor(let ind in objects)for(let key in objects[ind]){\n\t\t\tif(typeof objects[ind][key] == 'object' && objects[ind][key] != null && key in target)this.assign_deep(target[key], objects[ind][key]);\n\t\t\telse if(typeof target == 'object' && target != null)Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(objects[ind], key))\n\t\t}\n\t\t\n\t\treturn target;\n\t}\n\tfilter_deep(target, match){\n\t\tfor(let key in target){\n\t\t\tif(!(key in match))delete target[key];\n\t\t\t\n\t\t\tif(typeof match[key] == 'object' && match[key] != null)this.filter_deep(target[key], match[key]);\n\t\t}\n\t\t\n\t\treturn target;\n\t}\n\tredirect(name, from, to){\n\t\tvar proxy = Symbol();\n\t\t\n\t\tto.addEventListener(name, event => {\n\t\t\tif(event[proxy])return;\n\t\t});\n\t\t\n\t\tfrom.addEventListener(name, event => to.dispatchEvent(Object.assign(new(event.constructor)(name, event), {\n\t\t\t[proxy]: true,\n\t\t\tstopImmediatePropagation: event.stopImmediatePropagation.bind(event),\n\t\t\tpreventDefault: event.preventDefault.bind(event),\n\t\t})));\n\t}\n\tpromise(){\n\t\tvar temp,\n\t\t\tpromise = new Promise((resolve, reject) => temp = { resolve, reject });\n\t\t\n\t\tObject.assign(promise, temp);\n\t\t\n\t\tpromise.resolve_in = (time = 0, data) => setTimeout(() => promise.resolve(data), time);\n\t\t\n\t\treturn promise;\n\t}\n\trtn(number, unit){\n\t\treturn (number / unit).toFixed() * unit;\n\t}\n};\n\nmodule.exports = Utils;\n","'use strict';\n\nclass Utils {\n\tis_host(url, ...hosts){\n\t\treturn hosts.some(host => url.hostname == host || url.hostname.endsWith('.' + host));\n\t}\n\tround(n, r){\n\t\treturn Math.round(n * Math.pow(10, r)) / Math.pow(10, r);\n\t}\n\tadd_ele(node_name, parent, attributes = {}){\n\t\tvar crt = this.crt_ele(node_name, attributes);\n\t\t\n\t\tif(typeof parent == 'function')this.wait_for(parent).then(data => data.append(crt));\n\t\telse if(typeof parent == 'object' && parent != null && parent.append)parent.append(crt);\n\t\telse throw new Error('Parent is not resolvable to a DOM element');\n\t\t\n\t\treturn crt;\n\t}\n\tcrt_ele(node_name, attributes = {}){\n\t\tvar after = {};\n\t\t\n\t\tfor(let prop in attributes)if(typeof attributes[prop] == 'object' && attributes[prop] != null)after[prop] = attributes[prop], delete attributes[prop];\n\t\n\t\tvar node;\n\t\t\n\t\tif(node_name == 'raw')node = this.crt_ele('div', { innerHTML: attributes.html }).firstChild;\n\t\telse if(node_name == 'text')node = document.createTextNode('');\n\t\telse node = document.createElement(node_name);\n\t\t\n\t\tvar cls = attributes.className;\n\t\t\n\t\tif(cls){\n\t\t\tdelete attributes.className;\n\t\t\tnode.setAttribute('class', cls);\n\t\t}\n\t\t\n\t\tvar events = after.events;\n\t\t\n\t\tif(events){\n\t\t\tdelete after.events;\n\t\t\t\n\t\t\tfor(let event in events)node.addEventListener(event, events[event]);\n\t\t}\n\t\t\n\t\tObject.assign(node, attributes);\n\t\t\n\t\tfor(let prop in after)Object.assign(node[prop], after[prop]);\n\t\t\n\t\treturn node;\n\t}\n\twait_for(check, time){\n\t\treturn new Promise(resolve => {\n\t\t\tvar interval,\n\t\t\t\trun = () => {\n\t\t\t\t\ttry{\n\t\t\t\t\t\tvar result = check();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(result){\n\t\t\t\t\t\t\tif(interval)clearInterval(interval);\n\t\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}catch(err){console.log(err)}\n\t\t\t\t};\n\t\t\t\n\t\t\tinterval = run() || setInterval(run, time || 50);\n\t\t});\n\t}\n\tsanitize(string){\n\t\tvar node = document.createElement('div');\n\t\t\n\t\tnode.textContent = string;\n\t\t\n\t\treturn node.innerHTML;\n\t}\n\tunsanitize(string){\n\t\tvar node = document.createElement('div');\n\t\t\n\t\tnode.innerHTML = string;\n\t\t\n\t\treturn node.textContent;\n\t}\n\tnode_tree(nodes, parent = document){\n\t\tvar output = {\n\t\t\t\tparent: parent,\n\t\t\t},\n\t\t\tmatch_container = /^\\$\\s+>?/g,\n\t\t\tmatch_parent = /^\\^\\s+>?/g;\n\t\t\n\t\tfor(var label in nodes){\n\t\t\tvar value = nodes[label];\n\t\t\t\n\t\t\tif(value instanceof Node)output[label] = value;\n\t\t\telse if(typeof value == 'object')output[label] = this.node_tree(value, output.container);\n\t\t\telse if(match_container.test(nodes[label])){\n\t\t\t\tif(!output.container){\n\t\t\t\t\tconsole.warn('No container is available, could not access', value);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\toutput[label] = output.container.querySelector(nodes[label].replace(match_container, ''));\n\t\t\t}else if(match_parent.test(nodes[label])){\n\t\t\t\tif(!output.parent){\n\t\t\t\t\tconsole.warn('No parent is available, could not access', value);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\toutput[label] = output.parent.querySelector(nodes[label].replace(match_parent, ''));\n\t\t\t}else output[label] = parent.querySelector(nodes[label]);\n\t\t\t\n\t\t\tif(!output[label])console.warn('No node found, could not access', value);\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\tstring_key(key){\n\t\treturn key.replace(/^([A-Z][a-z]+?)([A-Z0-9][a-z]*?)/, (match, type, key) => ['Digit', 'Key'].includes(type) ? key : `${key} ${type}`);\n\t}\n\tclone_obj(obj){\n\t\treturn JSON.parse(JSON.stringify(obj));\n\t}\n\tassign_deep(target, ...objects){\n\t\tfor(let ind in objects)for(let key in objects[ind]){\n\t\t\tif(typeof objects[ind][key] == 'object' && objects[ind][key] != null && key in target)this.assign_deep(target[key], objects[ind][key]);\n\t\t\telse if(typeof target == 'object' && target != null)Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(objects[ind], key))\n\t\t}\n\t\t\n\t\treturn target;\n\t}\n\tfilter_deep(target, match){\n\t\tfor(let key in target){\n\t\t\tif(!(key in match))delete target[key];\n\t\t\t\n\t\t\tif(typeof match[key] == 'object' && match[key] != null)this.filter_deep(target[key], match[key]);\n\t\t}\n\t\t\n\t\treturn target;\n\t}\n\tredirect(name, from, to){\n\t\tvar proxy = Symbol();\n\t\t\n\t\tto.addEventListener(name, event => {\n\t\t\tif(event[proxy])return;\n\t\t});\n\t\t\n\t\tfrom.addEventListener(name, event => to.dispatchEvent(Object.assign(new(event.constructor)(name, event), {\n\t\t\t[proxy]: true,\n\t\t\tstopImmediatePropagation: event.stopImmediatePropagation.bind(event),\n\t\t\tpreventDefault: event.preventDefault.bind(event),\n\t\t})));\n\t}\n\tpromise(){\n\t\tvar temp,\n\t\t\tpromise = new Promise((resolve, reject) => temp = { resolve, reject });\n\t\t\n\t\tObject.assign(promise, temp);\n\t\t\n\t\tpromise.resolve_in = (time = 0, data) => setTimeout(() => promise.resolve(data), time);\n\t\t\n\t\treturn promise;\n\t}\n\trtn(number, unit){\n\t\treturn (number / unit).toFixed() * unit;\n\t}\n};\n\nmodule.exports = Utils;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","'use strict';\r\n\r\n/*\r\nconsole.log('Running');\r\n\r\nvar log = console.log;\r\nObject.defineProperty(console, 'log', {\r\n\tget(){\r\n\t\treturn log;\r\n\t},\r\n\tset(value){\r\n\t\treturn value;\r\n\t},\r\n\tconfigurable: false,\r\n});\r\n*/\r\n\r\nrequire('./FixLoad');\r\nrequire('./Resources');\r\nrequire('./FastLoad');\r\n\r\nvar HTMLProxy = require('./libs/HTMLProxy'),\r\n\tCategory = require('./libs/MenuUI/Window/Category'),\r\n\tIPC = require('./libs/IPC'),\r\n\tUtils = require('./libs/Utils'),\r\n\tEvents = require('./libs/Events'),\r\n\tutils = new Utils(),\r\n\tipc = new IPC((...data) => chrome.webview.postMessage(JSON.stringify(data)));\r\n\r\nchrome.webview.addEventListener('message', ({ data }) => ipc.emit(...JSON.parse(data)));\r\n\r\nclass Menu extends Events {\r\n\thtml = new HTMLProxy();\r\n\tconfig = require('./Runtime').config;\r\n\tdefault_config = require('../../Client/Config.json');\r\n\ttab = {\r\n\t\tcontent: this.html,\r\n\t\twindow: {\r\n\t\t\tmenu: this,\r\n\t\t},\r\n\t};\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis.main();\r\n\t\t\r\n\t\tvar Inst = this.category('Installation');\r\n\t\t\r\n\t\tInst.control('Folder', {\r\n\t\t\ttype: 'function',\r\n\t\t\tbutton: 'Open',\r\n\t\t\tvalue(){\r\n\t\t\t\tipc.send('open folder');\r\n\t\t\t},\r\n\t\t});\r\n\t\t\r\n\t\tvar Render = this.category('Rendering');\r\n\t\t\r\n\t\tRender.control('Uncap FPS', {\r\n\t\t\ttype: 'boolean',\r\n\t\t\twalk: 'client.uncap_fps',\r\n\t\t}).on('change', (value, init) => !init && this.relaunch());\r\n\t\t\r\n\t\tRender.control('Fullscreen', {\r\n\t\t\ttype: 'boolean',\r\n\t\t\twalk: 'client.fullscreen',\r\n\t\t\t// document.body.requestFullscreen()\r\n\t\t}).on('change', (value, init) => !init && ipc.send('fullscreen', value));\r\n\t\t\r\n\t\tvar Game = this.category('Game');\r\n\t\t\r\n\t\t// loads krunker from api.sys32.dev\r\n\t\tGame.control('Fast Loading', {\r\n\t\t\ttype: 'boolean',\r\n\t\t\twalk: 'game.fast_load',\r\n\t\t});\r\n\t\t\r\n\t\tfor(let category of this.categories)category.update(true);\r\n\t}\r\n\trelaunch(){\r\n\t\tipc.send('relaunch');\r\n\t}\r\n\tcategories = new Set();\r\n\tcategory(label){\r\n\t\tvar cat = new Category(this.tab, label);\r\n\t\tthis.categories.add(cat);\r\n\t\treturn cat;\r\n\t}\r\n\tasync save_config(){\r\n\t\tipc.send('save config', this.config);\r\n\t}\r\n\tasync main(){\r\n\t\tvar array = await utils.wait_for(() => typeof windows == 'object' && windows),\r\n\t\t\tsettings = array[0],\r\n\t\t\tindex = settings.tabs.length,\r\n\t\t\tget = settings.getSettings;\r\n\t\r\n\t\tsettings.tabs.push({ name: 'Client', categories: [] });\r\n\t\t\r\n\t\tsettings.getSettings = () => settings.tabIndex == index ? this.html.get() : get.call(settings);\r\n\t}\r\n};\r\n\r\nnew Menu();"],"names":[],"sourceRoot":""}